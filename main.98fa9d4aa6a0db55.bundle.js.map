{"version":3,"file":"main.98fa9d4aa6a0db55.bundle.js","mappings":"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","sources":["webpack://knoma/./client/about/about-instance.vue","webpack://knoma/./client/application/configuration.ts","webpack://knoma/./client/database/model.ts","webpack://knoma/./client/database/predefined.ts","webpack://knoma/./client/database/database-simple.ts","webpack://knoma/./client/database/database-http.ts","webpack://knoma/./client/database/database-local-storage.ts","webpack://knoma/./client/database/index.ts","webpack://knoma/./client/about/about-instance.vue?c6f6","webpack://knoma/./client/about/about-keyboard.vue","webpack://knoma/./client/about/about-keyboard.vue?c235","webpack://knoma/./client/about/about-predicates.vue","webpack://knoma/./client/about/about-predicates.vue?a12f","webpack://knoma/./client/about/about-text.vue","webpack://knoma/./client/about/about-text.vue?4f05","webpack://knoma/./client/about/about-types.vue","webpack://knoma/./client/about/about.vue","webpack://knoma/./client/about/about-types.vue?435b","webpack://knoma/./client/about/about.vue?ddf4","webpack://knoma/./client/document-detail/document-detail.vue","webpack://knoma/./client/document-detail/document-detail-header.vue","webpack://knoma/./client/components/tag-line.vue","webpack://knoma/./client/components/tag-line.vue?eef9","webpack://knoma/./client/document-detail/type-line.vue","webpack://knoma/./client/document-detail/type-line.vue?90d7","webpack://knoma/./client/components/properties-preview.vue","webpack://knoma/./client/components/properties-preview.vue?b6b3","webpack://knoma/./client/document-detail/document-detail-header.vue?6a1f","webpack://knoma/./client/document-detail/note-edit.vue","webpack://knoma/./client/document-detail/note-edit-service.ts","webpack://knoma/./client/document-detail/document-detail-service.ts","webpack://knoma/./client/database/model-factory.ts","webpack://knoma/./client/document-detail/document-detail-notes.vue","webpack://knoma/./client/document-detail/note-edit.vue?55ef","webpack://knoma/./client/document-detail/document-detail-notes.vue?3192","webpack://knoma/./client/components/properties-dialog-item.vue","webpack://knoma/./client/components/property-selector.vue","webpack://knoma/./client/components/properties-dialog.vue","webpack://knoma/./client/components/properties-dialog-item.vue?ef23","webpack://knoma/./client/components/property-selector.vue?f784","webpack://knoma/./client/components/properties-dialog.vue?5b9d","webpack://knoma/./client/components/codelist-dialog.vue","webpack://knoma/./client/components/codelist-dialog.vue?3ea5","webpack://knoma/./client/document-detail/document-detail.vue?c7f1","webpack://knoma/./client/document-list/document-list.vue","webpack://knoma/./client/document-list/document-list-item.vue","webpack://knoma/./client/document-list/document-list-service.ts","webpack://knoma/./client/document-list/document-list-item.vue?cea0","webpack://knoma/./client/document-list/document-filter.vue","webpack://knoma/./client/document-list/type-filter.vue","webpack://knoma/./client/document-list/property-filter.vue","webpack://knoma/./client/document-list/type-filter.vue?5f67","webpack://knoma/./client/document-list/property-filter.vue?f428","webpack://knoma/./client/document-list/document-filter.vue?da5f","webpack://knoma/./client/document-list/filtered-document-source.ts","webpack://knoma/./client/application/routes.js","webpack://knoma/./client/document-list/document-list.vue?eb8e","webpack://knoma/./client/application/layout.vue","webpack://knoma/./client/application/layout.vue?b47c","webpack://knoma/./client/index.js"],"sourcesContent":["<template>\n  <section>\n    <h2>Instance</h2>\n    <dl>\n      <dt>Database:</dt>\n      <dd>{{ databaseLabel }}</dd>\n    </dl>\n  </section>\n</template>\n\n<script>\nimport {getDatabase} from \"../database\";\n\nexport default {\n  \"name\": \"AboutInstance\",\n  \"data\": () => ({\n    \"databaseLabel\": getDatabase().getDatabaseLabel(),\n  }),\n};\n</script>","export var DatabaseType;\n(function (DatabaseType) {\n    DatabaseType[DatabaseType[\"HTTP\"] = 0] = \"HTTP\";\n    DatabaseType[DatabaseType[\"LOCAL_STORAGE\"] = 1] = \"LOCAL_STORAGE\";\n})(DatabaseType || (DatabaseType = {}));\nconst configuration = {\n    \"domain\": \"http://localhost/\",\n    \"database\": __DATABASE__,\n};\nexport function getConfiguration() {\n    return configuration;\n}\n","/**\n * Codelist of predicate edit types, those determine input type.\n */\nexport var PredicateEditType;\n(function (PredicateEditType) {\n    PredicateEditType[\"String\"] = \"string\";\n    PredicateEditType[\"Date\"] = \"date\";\n    PredicateEditType[\"Codelist\"] = \"codelist\";\n})(PredicateEditType || (PredicateEditType = {}));\n","import { PredicateEditType } from \"./model\";\nexport const NOTE = \"https://skodapetr.github.io/knoma/vocabulary#Note\";\nconst LABELS = {\n    \"http://www.w3.org/2004/02/skos/core#ConceptScheme\": \"Concept Scheme\",\n    \"http://www.w3.org/2004/02/skos/core#Concept\": \"Concept\",\n    \"http://www.w3.org/2000/01/rdf-schema#Property\": \"Property\",\n    \"http://www.w3.org/2000/01/rdf-schema#Class\": \"Class\",\n};\nconst CODE_LISTS = {\n    \"http://www.w3.org/2000/01/rdf-schema#Class\": [\n        \"http://www.w3.org/2004/02/skos/core#ConceptScheme\",\n        \"http://www.w3.org/2004/02/skos/core#Concept\",\n        \"http://www.w3.org/2000/01/rdf-schema#Property\",\n        \"http://www.w3.org/2000/01/rdf-schema#Class\",\n    ],\n};\nconst PREDICATES = [\n    {\n        \"iri\": \"http://www.w3.org/2004/02/skos/core#inScheme\",\n        \"label\": \"In scheme\",\n        \"multiple\": true,\n        \"type\": PredicateEditType.Codelist,\n        \"codelist\": [\n            \"http://www.w3.org/2004/02/skos/core#ConceptScheme\",\n        ],\n        \"domain\": [\n            \"http://www.w3.org/2004/02/skos/core#Concept\",\n        ],\n        \"listColour\": undefined,\n        \"listPriority\": undefined,\n    }, {\n        \"iri\": \"https://skodapetr.github.io/knoma/vocabulary#url\",\n        \"label\": \"URL\",\n        \"multiple\": false,\n        \"type\": PredicateEditType.String,\n        \"codelist\": undefined,\n        \"domain\": undefined,\n        \"listColour\": undefined,\n        \"listPriority\": undefined,\n    }, {\n        \"iri\": \"https://skodapetr.github.io/knoma/vocabulary#doi\",\n        \"label\": \"DOI\",\n        \"multiple\": false,\n        \"type\": PredicateEditType.String,\n        \"codelist\": undefined,\n        \"domain\": undefined,\n        \"listColour\": undefined,\n        \"listPriority\": undefined,\n    }, {\n        \"iri\": \"https://skodapetr.github.io/knoma/vocabulary#author\",\n        \"label\": \"Author\",\n        \"multiple\": false,\n        \"type\": PredicateEditType.String,\n        \"codelist\": undefined,\n        \"domain\": undefined,\n        \"listColour\": undefined,\n        \"listPriority\": undefined,\n    }, {\n        \"iri\": \"https://skodapetr.github.io/knoma/vocabulary#published\",\n        \"label\": \"Published\",\n        \"multiple\": false,\n        \"type\": PredicateEditType.Date,\n        \"codelist\": undefined,\n        \"domain\": undefined,\n        \"listColour\": undefined,\n        \"listPriority\": undefined,\n    }, {\n        \"iri\": \"http://www.w3.org/2000/01/rdf-schema#domain\",\n        \"label\": \"Domain\",\n        \"multiple\": true,\n        \"type\": PredicateEditType.Codelist,\n        \"codelist\": [\n            \"http://www.w3.org/2004/02/skos/core#ConceptScheme\",\n        ],\n        \"domain\": [\n            \"http://www.w3.org/2000/01/rdf-schema#Property\",\n        ],\n        \"listColour\": undefined,\n        \"listPriority\": undefined,\n    }, {\n        // Used by notes to reference another note or a document.\n        \"iri\": \"https://skodapetr.github.io/knoma/vocabulary#ref\",\n        \"label\": \"Reference\",\n        \"multiple\": false,\n        \"type\": PredicateEditType.String,\n        \"codelist\": undefined,\n        \"domain\": undefined,\n        \"listColour\": undefined,\n        \"listPriority\": undefined,\n    }, {\n        // If document is a value in a codelist and this values is set,\n        // it determines the color the value is shown in the list.\n        \"iri\": \"https://skodapetr.github.io/knoma/vocabulary#listColor\",\n        \"label\": \"List color\",\n        \"multiple\": false,\n        \"type\": PredicateEditType.String,\n        \"codelist\": undefined,\n        \"domain\": undefined,\n        \"listColour\": undefined,\n        \"listPriority\": undefined,\n    }, {\n        // In addition to listColor user can specify priority. If not set default\n        // is zero. This value is used to order tags in the document list.\n        \"iri\": \"https://skodapetr.github.io/knoma/vocabulary#listPriority\",\n        \"label\": \"List priority\",\n        \"multiple\": false,\n        \"type\": PredicateEditType.String,\n        \"codelist\": undefined,\n        \"domain\": undefined,\n        \"listColour\": undefined,\n        \"listPriority\": undefined,\n    },\n];\n(function initialize() {\n    copyPredicateLabelsToLabels();\n})();\nfunction copyPredicateLabelsToLabels() {\n    for (const predicate of PREDICATES) {\n        LABELS[predicate.iri] = predicate.label;\n    }\n}\nexport function getCoreLabel(type) {\n    return LABELS[type];\n}\nexport function getCoreCodelistItem(type) {\n    return CODE_LISTS[type] || [];\n}\nexport function getCorePredicate() {\n    return PREDICATES;\n}\n","import { PredicateEditType, } from \"./model\";\nimport { getCoreCodelistItem, getCoreLabel, getCorePredicate, } from \"./predefined\";\nconst RDFS_PROPERTY = \"http://www.w3.org/2000/01/rdf-schema#Property\";\nconst RDFS_HAS_DOMAIN = \"http://www.w3.org/2000/01/rdf-schema#domain\";\nconst RDFS_HAS_IN_SCHEME = \"http://www.w3.org/2004/02/skos/core#inScheme\";\nconst LIST_COLOR = \"https://skodapetr.github.io/knoma/vocabulary#listColor\";\nconst LIST_PRIORITY = \"https://skodapetr.github.io/knoma/vocabulary#listPriority\";\n/**\n * Base class for a simple database. Use document list fetched from server.\n */\nexport class SimpleDatabase {\n    documents = [];\n    async getDocuments() {\n        await this.refreshDocuments();\n        return this.documents;\n    }\n    async getPredicates() {\n        await this.refreshDocuments();\n        const result = [...getCorePredicate()];\n        for (const document of this.documents) {\n            if (document.types.includes(RDFS_PROPERTY)) {\n                result.push(documentToPredicate(document));\n            }\n        }\n        return result;\n    }\n    async getPredicate(iri) {\n        const predicates = await this.getPredicates();\n        for (const predicate of predicates) {\n            if (predicate.iri === iri) {\n                return predicate;\n            }\n        }\n        return undefined;\n    }\n    async getCodelist(types) {\n        await this.refreshDocuments();\n        const result = new Set();\n        // Add core items.\n        for (const type of types) {\n            for (const item of getCoreCodelistItem(type)) {\n                result.add(item);\n            }\n        }\n        // Add documents of required type.\n        for (const document of this.documents) {\n            const inSchema = document.properties[RDFS_HAS_IN_SCHEME] || [];\n            // We can add items if they are of given class or are part of a codelist.\n            if (isIntersecting(inSchema, types)) {\n                result.add(document.iri);\n            }\n            else if (isIntersecting(document.types, types)) {\n                result.add(document.iri);\n            }\n        }\n        return [...result];\n    }\n    async getLabel(iri) {\n        const label = getCoreLabel(iri);\n        if (label !== undefined) {\n            return label;\n        }\n        for (const document of this.documents) {\n            if (document.iri === iri) {\n                return document.title;\n            }\n        }\n        return iri;\n    }\n}\nfunction isIntersecting(left, right) {\n    for (const leftItem of left) {\n        if (right.includes(leftItem)) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction documentToPredicate(document) {\n    const codelist = document.properties[RDFS_HAS_DOMAIN];\n    const listColour = document.properties[LIST_COLOR];\n    const listPriority = document.properties[LIST_PRIORITY];\n    return {\n        \"iri\": document.iri,\n        \"label\": document.title,\n        \"multiple\": true,\n        \"type\": codelist === undefined ?\n            PredicateEditType.String : PredicateEditType.Codelist,\n        \"codelist\": codelist || [],\n        \"domain\": undefined,\n        \"listColour\": listColour?.[0],\n        \"listPriority\": parseInt(listPriority?.[0] ?? \"0\"),\n    };\n}\n","import axios from \"axios\";\nimport { SimpleDatabase } from \"./database-simple\";\n/**\n * Use API to fetch list of documents and work with documents. The list of\n * documents (index) is fetched on the client side.\n */\nclass HttpDatabase extends SimpleDatabase {\n    documentsAreDirty = true;\n    getDatabaseLabel() {\n        return \"HTTP Based\";\n    }\n    async refreshDocuments() {\n        if (this.documentsAreDirty) {\n            const response = await axios.get(\"api/v1/documents\");\n            this.documents = response.data;\n            this.documentsAreDirty = false;\n        }\n    }\n    async getDocument(iri) {\n        const url = \"api/v1/documents?iri=\" + encodeURIComponent(iri);\n        const response = await axios.get(url);\n        return response.data;\n    }\n    async storeDocument(document) {\n        const url = \"api/v1/documents?iri=\" + encodeURIComponent(document.iri);\n        await axios.post(url, document);\n        this.documentsAreDirty = true;\n    }\n    async deleteDocument(iri) {\n        const url = \"api/v1/documents?iri=\" + encodeURIComponent(iri);\n        await axios.delete(url);\n        this.documentsAreDirty = true;\n    }\n}\nexport function createHttpDatabase() {\n    return new HttpDatabase();\n}\n","import { SimpleDatabase } from \"./database-simple\";\nconst LIST_IDENTIFIER = \"documents-list\";\n/**\n * Client side implementation of database using localStorage. This\n * is limited in size.\n */\nclass LocalStorageDatabase extends SimpleDatabase {\n    getDatabaseLabel() {\n        return \"Local Storage\";\n    }\n    async deleteDocument(iri) {\n        localStorage.removeItem(iri);\n        // Update documents.\n        const index = this.findDocument(iri);\n        if (index === undefined) {\n            return;\n        }\n        this.documents.splice(index, 1);\n        this.saveDocuments();\n    }\n    findDocument(iri) {\n        for (let index = 0; index < this.documents.length; ++index) {\n            const document = this.documents[index];\n            if (document.iri === iri) {\n                return index;\n            }\n        }\n        return undefined;\n    }\n    saveDocuments() {\n        const content = JSON.stringify(this.documents);\n        localStorage.setItem(LIST_IDENTIFIER, content);\n    }\n    async getDocument(iri) {\n        const contentAsString = localStorage.getItem(iri);\n        if (contentAsString === null) {\n            return undefined;\n        }\n        return JSON.parse(contentAsString);\n    }\n    async refreshDocuments() {\n        // We only load data for the first time, else we have\n        // actual version in memory.\n        if (this.documents.length > 0) {\n            return;\n        }\n        const contentAsString = localStorage.getItem(LIST_IDENTIFIER);\n        if (contentAsString === null) {\n            return;\n        }\n        this.documents = JSON.parse(contentAsString);\n    }\n    async storeDocument(document) {\n        const content = JSON.stringify(document);\n        localStorage.setItem(document.iri, content);\n        // Update documents.\n        const newDocument = {\n            \"iri\": document.iri,\n            \"types\": document.types,\n            \"title\": document.title,\n            \"description\": document.description,\n            \"created\": document.created,\n            \"properties\": document.properties,\n        };\n        const index = this.findDocument(document.iri);\n        if (index === undefined) {\n            this.documents = [newDocument, ...this.documents];\n        }\n        else {\n            this.documents[index] = newDocument;\n        }\n        this.saveDocuments();\n    }\n}\nexport function createLocalStorageDatabase() {\n    const result = new LocalStorageDatabase();\n    if (isFirstLoad()) {\n        addDemoContent(result);\n    }\n    return result;\n}\nfunction isFirstLoad() {\n    return localStorage.getItem(LIST_IDENTIFIER) === null;\n}\nfunction addDemoContent(database) {\n    const now = new Date().toISOString().substr(0, 10);\n    database.storeDocument({\n        \"iri\": \"http://example.com/note/001\",\n        \"created\": now,\n        \"title\": \"Click me!\",\n        \"description\": \"Welcome to Knowledge Manager.\",\n        \"types\": [],\n        \"properties\": {\n            \"https://skodapetr.github.io/knoma/vocabulary#author\": [\n                \"Petr Škoda\",\n            ],\n        },\n        \"items\": [\n            {\n                \"identifier\": \"001\",\n                \"properties\": {},\n                \"created\": now,\n                \"text\": \"There might be a tutorial one day ... \",\n                \"image\": undefined,\n            },\n            {\n                \"identifier\": \"002\",\n                \"properties\": {},\n                \"created\": now,\n                \"text\": \"This instance is using your local storage to store data.\",\n                \"image\": undefined,\n            },\n        ],\n    });\n}\n","import { DatabaseType, getConfiguration } from \"../application/configuration\";\nimport { createHttpDatabase } from \"./database-http\";\nimport { createLocalStorageDatabase } from \"./database-local-storage\";\nexport * from \"./database-api\";\nexport * from \"./model\";\nexport * from \"./model-factory\";\nconst database = createDatabase();\nfunction createDatabase() {\n    const configuration = getConfiguration();\n    switch (configuration.database) {\n        case DatabaseType.HTTP:\n            return createHttpDatabase();\n        case DatabaseType.LOCAL_STORAGE:\n            return createLocalStorageDatabase();\n        default:\n            return createLocalStorageDatabase();\n    }\n}\nexport function getDatabase() {\n    return database;\n}\n","import { render } from \"./about-instance.vue?vue&type=template&id=b20b4fbe\"\nimport script from \"./about-instance.vue?vue&type=script&lang=js\"\nexport * from \"./about-instance.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/runner/work/knoma/knoma/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <section>\n    <h2>Keyboard</h2>\n    <dl>\n      <dt>ctrl + s</dt>\n      <dd>In document detail, save current document.</dd>\n      <dt>alt + a</dt>\n      <dd>In document detail, append new note.</dd>\n      <dt>alt + up</dt>\n      <dd>In note text area, focus previous note.</dd>\n      <dt>alt + down</dt>\n      <dd>In note text area, focus next note.</dd>\n    </dl>\n  </section>\n</template>\n\n<script>\nexport default {\n  \"name\": \"AboutKeyboard\",\n};\n</script>","import { render } from \"./about-keyboard.vue?vue&type=template&id=5951c9b0\"\nimport script from \"./about-keyboard.vue?vue&type=script&lang=js\"\nexport * from \"./about-keyboard.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/runner/work/knoma/knoma/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <section>\n    <h2>Predicates</h2>\n    <dl>\n      <dt>In scheme</dt>\n      <dd>Part of a given scheme/codelist.</dd>\n      <dt>URL</dt>\n      <dd />\n      <dt>DOI</dt>\n      <dd />\n      <dt>Published</dt>\n      <dd>Time when the document were published/created.</dd>\n      <dt>Reference</dt>\n      <dd>Can be used to connect notes together.</dd>\n    </dl>\n  </section>\n</template>\n\n<script>\nexport default {\n  \"name\": \"AboutPredicates\",\n};\n</script>\n","import { render } from \"./about-predicates.vue?vue&type=template&id=33e6275d\"\nimport script from \"./about-predicates.vue?vue&type=script&lang=js\"\nexport * from \"./about-predicates.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/runner/work/knoma/knoma/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <section>\n    <h2>Content language</h2>\n    <ul>\n      <li>\n        Link with given <em>name</em> and <em>URL</em>.<br>\n        <code>[{name}}]({URL}})</code><br>\n        There are some specific domains that can be used:\n        <ul>\n          <li>\n            <code>doi://</code> - Reference to a document with DOI.\n          </li>\n          <li>\n            <code>cite://</code> - Reference to a citation inside a document.\n          </li>\n        </ul>\n      </li>\n      <li>\n        Highlight given word as important.<br>\n        <code>**Keyword**</code>\n      </li>\n      <li>\n        Code without any other specification.<br>\n        <code>```code```</code>\n      </li>\n      <li>\n        Code of given <em>{type}</em>:\n        <pre><code>```{type}\n  ...\n  ```</code></pre>\n        You can use <code>```Quote...</code> to mark a quote from the source\n        document.\n      </li>\n      <li>\n        Item list:\n        <pre><code>* Item\n   * Item\n   * Item</code></pre>\n      </li>\n    </ul>\n  </section>\n</template>\n\n<script>\nexport default {\n  \"name\": \"AboutText\",\n};\n</script>\n","import { render } from \"./about-text.vue?vue&type=template&id=bc7fb0e2\"\nimport script from \"./about-text.vue?vue&type=script&lang=js\"\nexport * from \"./about-text.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/runner/work/knoma/knoma/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <section>\n    <h2>Types</h2>\n    <dl>\n      <dt>Concept Scheme</dt>\n      <dd>A concept lists that can be used as values in codelists.</dd>\n      <dt>Concept</dt>\n      <dd>Member of concept scheme.</dd>\n      <dt>Property</dt>\n      <dd>This document can be used as a property.</dd>\n      <dt>Class</dt>\n      <dd>This document can be used as a class/type for other documents.</dd>\n      <dt>Template</dt>\n      <dd>This document can be used as a template for new documents.</dd>\n    </dl>\n  </section>\n</template>\n\n<script>\nexport default {\n  \"name\": \"AboutTypes\",\n};\n</script>\n","<template>\n  <v-container>\n    <v-tabs\n      v-model=\"tab\"\n      grow\n    >\n      <v-tab>Instance</v-tab>\n      <v-tab>Keyboard</v-tab>\n      <v-tab>Types</v-tab>\n      <v-tab>Predicates</v-tab>\n      <v-tab>Text</v-tab>\n    </v-tabs>\n    <v-window\n      v-model=\"tab\"\n      style=\"padding: 2rem;\"\n    >\n      <v-window-item>\n        <app-instance />\n      </v-window-item>\n      <v-window-item>\n        <app-keyboard />\n      </v-window-item>\n      <v-window-item>\n        <app-types />\n      </v-window-item>\n      <v-window-item>\n        <app-predicates />\n      </v-window-item>\n      <v-window-item>\n        <app-text />\n      </v-window-item>\n    </v-window>\n  </v-container>\n</template>\n\n<script>\nimport AboutInstance from \"./about-instance\";\nimport AboutKeyboard from \"./about-keyboard\";\nimport AboutPredicates from \"./about-predicates\";\nimport AboutText from \"./about-text\";\nimport AboutTypes from \"./about-types\";\n\n/**\n * About page, holds information about application configuration\n * and documentation.\n */\nexport default {\n  \"name\": \"AboutView\",\n  \"components\": {\n    \"app-instance\": AboutInstance,\n    \"app-keyboard\": AboutKeyboard,\n    \"app-predicates\": AboutPredicates,\n    \"app-text\": AboutText,\n    \"app-types\": AboutTypes,\n  },\n  \"data\": () => ({\n    /**\n     * Index of selected tab.\n     */\n    \"tab\": 0,\n  }),\n};\n</script>\n","import { render } from \"./about-types.vue?vue&type=template&id=8e59c850\"\nimport script from \"./about-types.vue?vue&type=script&lang=js\"\nexport * from \"./about-types.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/runner/work/knoma/knoma/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./about.vue?vue&type=template&id=98572a22\"\nimport script from \"./about.vue?vue&type=script&lang=js\"\nexport * from \"./about.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/runner/work/knoma/knoma/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <v-container class=\"pt-0\">\n    <app-header\n      v-model=\"document\"\n      @edit-properties=\"onOpenPropertiesDialog\"\n      @edit-type=\"onOpenTypeDialog\"\n      @save=\"onSave\"\n      @close=\"onClose\"\n    />\n    <br>\n    <app-items\n      v-model=\"document.items\"\n      :document-iri=\"document.iri\"\n      @edit-properties=\"onOpenPropertiesDialog\"\n    />\n    <app-property-dialog\n      v-model=\"propertyDialog.data\"\n      :visible=\"propertyDialog.open\"\n      :types=\"propertyDialog.types\"\n      @save=\"onSavePropertiesDialog\"\n      @close=\"onClosePropertiesDialog\"\n    />\n    <app-codelist-dialog\n      v-model=\"typeDialog.data\"\n      :visible=\"typeDialog.open\"\n      :codelist=\"['http://www.w3.org/2000/01/rdf-schema#Class']\"\n      @save=\"onSaveTypeDialog\"\n      @close=\"onCloseTypeDialog\"\n    />\n    <v-layout class=\"mt-6\">\n      <v-btn\n        class=\"mr-4\"\n        @click=\"onSave\"\n      >\n        Save\n      </v-btn>\n      <v-btn @click=\"onClose\">\n        Close\n      </v-btn>\n    </v-layout>\n  </v-container>\n</template>\n\n<script>\nimport {nextTick} from \"vue\";\nimport Header from \"./document-detail-header\";\nimport Items from \"./document-detail-notes\";\nimport PropertyDialog from \"../components/properties-dialog\";\nimport CodelistDialog from \"../components/codelist-dialog\";\nimport {createDocument, getDatabase} from \"../database\";\nimport {\n  createNewNote,\n  focusNextNote,\n  focusPreviousNote,\n  getTextAreas,\n} from \"./document-detail-service\";\nimport {NOTE} from \"../database/predefined\";\n\nexport default {\n  \"name\": \"DocumentDetailView\",\n  \"components\": {\n    \"app-header\": Header,\n    \"app-items\": Items,\n    \"app-property-dialog\": PropertyDialog,\n    \"app-codelist-dialog\": CodelistDialog,\n  },\n  \"data\": () => ({\n    \"document\": createDocument(),\n    \"loading\": false,\n    \"propertyDialog\": {\n      \"open\": false,\n      \"owner\": undefined,\n      \"types\": [],\n      \"data\": {},\n    },\n    \"typeDialog\": {\n      \"open\": false,\n      \"owner\": undefined,\n      \"data\": [],\n    },\n  }),\n  \"mounted\": async function () {\n    window.document.addEventListener(\"keydown\", this.onKeyDown);\n    const iri = this.$route.query.document;\n    if (iri === undefined) {\n      return;\n    }\n    this.loading = true;\n    const document = await getDatabase().getDocument(iri);\n    if (document !== undefined) {\n      this.document = document;\n    }\n    this.loading = false;\n  },\n  \"unmounted\": function () {\n    window.document.removeEventListener(\"keydown\", this.onKeyDown);\n  },\n  \"methods\": {\n    \"onKeyDown\": function (event) {\n      if (event.ctrlKey && event.key === \"s\") {\n        this.onSave();\n        event.preventDefault();\n      } else if (event.altKey && event.key === \"a\") {\n        this.document.items = [\n          ...this.document.items,\n          createNewNote(this.document.iri, this.document.items),\n        ];\n        nextTick(() => {\n          getTextAreas().pop().focus();\n        });\n        event.preventDefault();\n      } else if (event.altKey && event.key === \"ArrowUp\") {\n        focusPreviousNote();\n        event.preventDefault();\n      } else if (event.altKey && event.key === \"ArrowDown\") {\n        focusNextNote();\n        event.preventDefault();\n      }\n    },\n    \"onOpenPropertiesDialog\": function (owner) {\n      this.propertyDialog = {\n        \"open\": true,\n        \"owner\": owner,\n        // The note has no types, se we substitute with note type here.\n        \"types\": owner?.types ?? [NOTE],\n        \"data\": cloneProperties(owner.properties),\n      };\n    },\n    \"onClosePropertiesDialog\": function () {\n      this.propertyDialog.open = false;\n    },\n    \"onSavePropertiesDialog\": function () {\n      this.propertyDialog.owner.properties = this.propertyDialog.data;\n      this.propertyDialog.open = false;\n    },\n    \"onOpenTypeDialog\": function (owner) {\n      this.typeDialog = {\n        \"open\": true,\n        \"owner\": owner,\n        // Clone data to not modify them in place.\n        \"data\": [...owner.types],\n      };\n    },\n    \"onSaveTypeDialog\": function () {\n      this.typeDialog.owner.types = this.typeDialog.data;\n      this.typeDialog.open = false;\n    },\n    \"onCloseTypeDialog\": function () {\n      this.typeDialog.open = false;\n    },\n    \"onSave\": async function () {\n      this.loading = true;\n      try {\n        await getDatabase().storeDocument(this.document);\n        this.$notify({\n          \"title\": \"Document saved.\",\n          \"type\": \"success\",\n        });\n      } catch (ex) {\n        this.$notify({\n          \"title\": \"Can't save data.\",\n          \"type\": \"error\",\n        });\n        throw ex;\n      }\n      this.loading = false;\n    },\n    \"onClose\": function () {\n      this.$router.push({\n        \"name\": \"documents\",\n      });\n    },\n  },\n};\n\nfunction cloneProperties(source) {\n  const result = {};\n  for (const [key, value] of Object.entries(source)) {\n    if (Array.isArray(value)) {\n      result[key] = [...value];\n    } else if (typeof value === \"object\") {\n      result[key] = {...value};\n    } else {\n      result[key] = value;\n    }\n  }\n  return result;\n}\n\n</script>\n","<template>\n  <div>\n    <div>\n      <v-btn\n        icon=\"mdi-share-variant\"\n        size=\"small\"\n        variant=\"text\"\n        class=\"ml-2 mr-4\"\n        @click=\"onCopyIri\"\n      />\n      <v-btn\n        icon=\"mdi-pencil\"\n        size=\"small\"\n        variant=\"text\"\n        class=\"mr-4\"\n        @click=\"onEditProperties(modelValue)\"\n      />\n      <app-types\n        :value=\"modelValue\"\n        @input=\"onEditType\"\n      />\n    </div>\n    <v-text-field\n      :model-value=\"modelValue.title\"\n      label=\"Title *\"\n      required\n      @update:model-value=\"onChangeTitle\"\n    />\n    <v-textarea\n      :model-value=\"modelValue.description\"\n      auto-grow\n      clearable\n      clear-icon=\"mdi-close-circle\"\n      rows=\"1\"\n      label=\"Description\"\n      @update:model-value=\"onChangeDescription\"\n    />\n    <div class=\"outer\">\n      Properties:\n      <app-properties-preview :value=\"modelValue\" />\n    </div>\n    <v-layout>\n      <v-btn\n        class=\"mr-4\"\n        @click=\"onSave\"\n      >\n        Save\n      </v-btn>\n      <v-btn @click=\"onClose\">\n        Close\n      </v-btn>\n    </v-layout>\n  </div>\n</template>\n\n<script>\nimport TypeLine from \"./type-line\";\nimport PropertiesPreview from \"../components/properties-preview\";\n\nexport default {\n  \"name\": \"DocumentDetailHeader\",\n  \"components\": {\n    \"app-types\": TypeLine,\n    \"app-properties-preview\": PropertiesPreview,\n  },\n  \"props\": {\n    \"modelValue\": {\"type\": Object, \"required\": true},\n  },\n  \"emits\": [\n    \"update:model-value\",\n    /**\n     * Change document type.\n     */\n    \"edit-type\",\n    /**\n     * Change document properties.\n     */\n    \"edit-properties\",\n    /**\n     * Save document.\n    */\n    \"save\",\n    /**\n     * Close document.\n     */\n    \"close\",\n  ],\n  \"methods\": {\n    \"onCopyIri\": function () {\n      navigator.clipboard.writeText(this.modelValue.iri);\n    },\n    \"onChangeTitle\": function (value) {\n      this.$emit(\"update:model-value\", {\n        ...this.modelValue,\n        \"title\": value,\n      });\n    },\n    \"onChangeDescription\": function (value) {\n      this.$emit(\"update:model-value\", {\n        ...this.modelValue,\n        \"description\": value,\n      });\n    },\n    \"onEditType\": function(owner) {\n      this.$emit(\"edit-type\", owner);\n    },\n    \"onEditProperties\": function() {\n      this.$emit(\"edit-properties\", this.modelValue);\n    },\n    \"onSave\": function () {\n      this.$emit(\"save\");\n    },\n    \"onClose\": function () {\n      this.$emit(\"close\");\n    },\n  },\n};\n</script>\n\n<style scoped>\n.outer {\n  border-bottom: 1px solid gray;\n  padding-bottom: 0.5rem;\n  margin-bottom: 0.5rem;\n  padding-top: 0;\n}\n</style>\n","<template>\n  <span>\n    <v-chip\n      v-for=\"tag in tags\"\n      :key=\"tag.iri\"\n      :size=\"size\"\n      class=\"ma-1\"\n      @click=\"onClick\"\n    >\n      {{ tag.label }}\n    </v-chip>\n  </span>\n</template>\n\n<script>\nimport {getDatabase} from \"../database\";\n\nexport default {\n  \"name\": \"TagLine\",\n  \"props\": {\n    \"value\": {\"type\": Array, \"required\": true},\n    \"size\": {\"type\": String, \"default\": \"default\"},\n  },\n  \"emits\": [\n    /**\n     * User clicked on a tag.\n     */\n    \"click\",\n  ],\n  \"data\": () => ({\n    \"tags\": [],\n  }),\n  \"watch\": {\n    \"value\": function () {\n      this.computeTags();\n    },\n  },\n  \"mounted\": function () {\n    this.computeTags();\n  },\n  \"methods\": {\n    \"computeTags\": async function () {\n      const result = [];\n      const database = getDatabase();\n      for (const iri of this.value) {\n        result.push({\n          \"iri\": iri,\n          \"label\": await database.getLabel(iri),\n        });\n      }\n      this.tags = result;\n    },\n    \"onClick\": function () {\n      this.$emit(\"click\");\n    },\n  },\n};\n</script>","import { render } from \"./tag-line.vue?vue&type=template&id=60ed3f94\"\nimport script from \"./tag-line.vue?vue&type=script&lang=js\"\nexport * from \"./tag-line.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/runner/work/knoma/knoma/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <span>\n    <app-tags\n      :value=\"value.types\"\n      @click=\"onEditType\"\n    />\n    <v-btn\n      v-show=\"value.types.length === 0\"\n      size=\"small\"\n      variant=\"text\"\n      icon=\"mdi-plus\"\n      @click=\"onEditType\"\n    />\n  </span>\n</template>\n\n<script>\nimport TagLine from \"../components/tag-line\";\n\nexport default {\n  \"name\": \"TypeLine\",\n  \"components\": {\n    \"app-tags\": TagLine,\n  },\n  \"props\": {\n    \"value\": {\"type\": Object, \"required\": true},\n  },\n  \"emits\": [\n    \"input\",\n  ],\n  \"methods\": {\n    \"onEditType\": function () {\n      this.$emit(\"input\", this.value);\n    },\n  },\n};\n</script>","import { render } from \"./type-line.vue?vue&type=template&id=44ef54cb\"\nimport script from \"./type-line.vue?vue&type=script&lang=js\"\nexport * from \"./type-line.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/runner/work/knoma/knoma/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div>\n    <dl\n      v-for=\"predicate of content\"\n      :key=\"predicate.iri\"\n    >\n      <dt>{{ predicate.label }}:</dt>\n      <dd\n        v-for=\"(item, index) in predicate.items\"\n        :key=\"index\"\n      >\n        {{ item }}\n      </dd>\n    </dl>\n  </div>\n</template>\n\n<script>\nimport {getDatabase} from \"../database\";\n\nexport default {\n  \"name\": \"PropertiesPreview\",\n  \"props\": {\n    \"value\": {\"type\": Object, \"required\": true},\n  },\n  \"data\": () => ({\n    \"loading\": false,\n    \"content\": [],\n  }),\n  \"watch\": {\n    \"value.properties\": async function (nextProperties) {\n      await this.updateProperties(nextProperties);\n    },\n  },\n  \"mounted\": async function () {\n    await this.updateProperties(this.value.properties);\n  },\n  \"methods\": {\n    \"updateProperties\": async function(properties) {\n      const database = getDatabase();\n      const result = [];\n      for (const [predicateIri, items] of Object.entries(properties)) {\n        const predicate = await database.getPredicate(predicateIri);\n        const itemsToShow = await predicateToValues(database, predicate, items);\n        result.push({\n          \"iri\": predicateIri,\n          \"label\": predicate.label,\n          \"items\": itemsToShow,\n        });\n      }\n      result.sort((left, right) => left.label.localeCompare(right.label));\n      this.content = result;\n    },\n  },\n};\n\nasync function predicateToValues(database, predicate, values) {\n  let result = [];\n  switch (predicate.type) {\n    case \"codelist\":\n      for (const item of values) {\n        result.push(await database.getLabel(item));\n      }\n      break;\n    default:\n      result = values;\n      break;\n  }\n  return result;\n}\n\n</script>\n\n<style scoped>\ndl {\n  display: flex;\n  flex-wrap: wrap;\n  margin-left: 1rem;\n}\ndl dd {\n  margin-left: 1rem;\n}\ndl dd:after {\n  content: \",\";\n}\ndl dd:last-child:after {\n  content: \"\";\n}\n</style>\n","import { render } from \"./properties-preview.vue?vue&type=template&id=a3e9327a&scoped=true\"\nimport script from \"./properties-preview.vue?vue&type=script&lang=js\"\nexport * from \"./properties-preview.vue?vue&type=script&lang=js\"\n\nimport \"./properties-preview.vue?vue&type=style&index=0&id=a3e9327a&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/knoma/knoma/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-a3e9327a\"]])\n\nexport default __exports__","import { render } from \"./document-detail-header.vue?vue&type=template&id=f12837fa&scoped=true\"\nimport script from \"./document-detail-header.vue?vue&type=script&lang=js\"\nexport * from \"./document-detail-header.vue?vue&type=script&lang=js\"\n\nimport \"./document-detail-header.vue?vue&type=style&index=0&id=f12837fa&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/knoma/knoma/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-f12837fa\"]])\n\nexport default __exports__","<template>\n  <v-card\n    class=\"mx-2\"\n    width=\"100%\"\n  >\n    <v-card-title class=\"py-0 flex\">\n      <v-btn\n        icon=\"mdi-share-variant\"\n        size=\"small\"\n        class=\"ml-2 mr-4\"\n        @click=\"onCopyIri\"\n      />\n      <v-btn\n        icon=\"mdi-pencil\"\n        size=\"small\"\n        class=\"mr-4\"\n        @click=\"onEditProperties(value)\"\n      />\n      <v-spacer />\n      <v-btn\n        icon=\"mdi-minus\"\n        size=\"small\"\n        variant=\"text\"\n        color=\"red\"\n        class=\"mr-4\"\n        @click=\"onDelete\"\n      />\n      <v-btn\n        icon=\"mdi-plus\"\n        size=\"small\"\n        variant=\"text\"\n        color=\"green\"\n        @click=\"onAdd()\"\n      />\n    </v-card-title>\n    <v-card-text>\n      <v-textarea\n        :model-value=\"value.text\"\n        class=\"note-content-input\"\n        auto-grow\n        clearable\n        clear-icon=\"mdi-close-circle\"\n        rows=\"1\"\n        label=\"Content\"\n        :hide-details=\"true\"\n        @update:model-value=\"onChangeContent\"\n        @paste=\"onPaste\"\n        @keydown=\"onKeyDown\"\n      />\n      <img\n        v-show=\"value.image && showImage\"\n        :src=\"value.image\"\n        style=\"border-style: ridge;background-color: wheat;width: 100%;\"\n      >\n    </v-card-text>\n    <v-card-actions v-show=\"value.image\">\n      <v-btn\n        @click=\"onToggleImage\"\n      >\n        Toggle Image\n      </v-btn>\n      <v-btn\n        v-show=\"showImage\"\n        @click=\"onClearImage\"\n      >\n        Clear Image\n      </v-btn>\n    </v-card-actions>\n  </v-card>\n</template>\n\n<script>\nimport {nextTick} from \"vue\";\nimport {onKeyAltDown} from \"./note-edit-service\";\n\nexport default {\n  \"name\": \"NoteEdit\",\n  \"props\": {\n    \"value\": {\"type\": Object, \"required\": true},\n    \"documentIri\": {\"type\": String, \"required\": true},\n  },\n  \"emits\": [\n    \"input\",\n    /**\n     * Delete note.\n     */\n    \"delete\",\n    /**\n     * Insert new note after this one.\n     */\n    \"add\",\n    /**\n     * Change note properties.\n     */\n    \"edit-properties\",\n  ],\n  \"data\": () => ({\n    \"showImage\": false,\n  }),\n  \"methods\": {\n    \"onCopyIri\": function () {\n      const iri = this.documentIri + \"/notes/\" + this.value.identifier;\n      navigator.clipboard.writeText(iri);\n    },\n    \"onChangeContent\": function (value) {\n      this.$emit(\"input\", {\n        ...this.value,\n        \"text\": value,\n      });\n    },\n    \"onClearImage\": function () {\n      this.$emit(\"input\", {\n        ...this.value,\n        \"image\": undefined,\n      });\n    },\n    \"onDelete\": function () {\n      this.$emit(\"delete\");\n    },\n    \"onAdd\": function () {\n      this.$emit(\"add\");\n    },\n    \"onKeyDown\": function (event) {\n      if (event.altKey) {\n        let result = onKeyAltDown(this.value.text, event);\n        if (result === null) {\n          return;\n        }\n        this.$emit(\"input\", {\n          ...this.value,\n          \"text\": result.value,\n        });\n        nextTick(() => {\n          event.target.selectionStart = result.positionStart;\n          event.target.selectionEnd = result.positionEnd;\n        });\n        event.preventDefault();\n      }\n    },\n    \"onPaste\": function (event) {\n      for (const item of event.clipboardData.items) {\n        if (!item.type.includes(\"image\")) {\n          continue;\n        }\n        event.preventDefault();\n        const file = item.getAsFile();\n        const reader = new FileReader();\n        reader.onload = () => {\n          const imageInBase64 = reader.result;\n          this.$emit(\"input\", {\n            ...this.value,\n            \"image\": imageInBase64,\n          });\n        };\n        reader.readAsDataURL(file);\n        break;\n      }\n    },\n    \"onEditProperties\": function () {\n      this.$emit(\"edit-properties\", this.value);\n    },\n    \"onToggleImage\": function () {\n      this.showImage = !this.showImage;\n    },\n  },\n};\n</script>\n\n<style scoped>\n.flex {\n  display: flex;\n}\n</style>\n","export function onKeyAltDown(text, event) {\n    const target = event.target;\n    const start = target.selectionStart;\n    const end = target.selectionEnd;\n    if (start === null || end === null) {\n        return null;\n    }\n    return null;\n}\n","import { createNote } from \"../database\";\nexport function createNewNote(iri, notes) {\n    const nextIndex = notes.map(note => Number(note.identifier))\n        .reduce((left, right) => Math.max(left, right), 0) + 1;\n    return createNote(String(nextIndex).padStart(3, \"0\"), \"\");\n}\nexport function getTextAreas() {\n    const selector = \".note-content-input textarea\";\n    return [...window.document.querySelectorAll(selector)];\n}\nexport function focusPreviousNote() {\n    const nodes = getTextAreas();\n    const active = document.activeElement;\n    const index = nodes.indexOf(active);\n    if (index < 1 || index - 1 > nodes.length) {\n        return;\n    }\n    nodes[index - 1].focus();\n}\nexport function focusNextNote() {\n    const nodes = getTextAreas();\n    const active = document.activeElement;\n    const index = nodes.indexOf(active);\n    if (index === -1 || index + 1 >= nodes.length) {\n        return;\n    }\n    nodes[index + 1].focus();\n}\n","import { getConfiguration } from \"../application/configuration\";\nexport function createDocument() {\n    const configuration = getConfiguration();\n    return {\n        \"iri\": configuration.domain + createIdentifier(),\n        \"types\": [],\n        \"title\": \"\",\n        \"description\": \"\",\n        \"created\": new Date().toISOString().substr(0, 10),\n        \"properties\": {},\n        \"items\": [],\n    };\n}\nfunction createIdentifier() {\n    const time = new Date().getTime();\n    return time + \"-xxxx-yxxx\".replace(/[xy]/g, function (c) {\n        const r = Math.random() * 16 | 0, v = c == \"x\" ? r : (r & 0x3 | 0x8);\n        return v.toString(16);\n    });\n}\nexport function createNote(identifier, text) {\n    return {\n        \"identifier\": identifier,\n        \"properties\": {},\n        \"created\": new Date().toISOString().substr(0, 10),\n        \"text\": text,\n        \"image\": undefined,\n    };\n}\n","<template>\n  <v-list>\n    <v-list-item\n      v-for=\"(item, index) in modelValue\"\n      :key=\"item.iri\"\n    >\n      <app-item\n        :document-iri=\"documentIri\"\n        :value=\"item\"\n        @input=\"(v) => onChange(index, v)\"\n        @add=\"() => onInsert(index)\"\n        @delete=\"() => onDelete(index)\"\n        @edit-properties=\"onEditProperties\"\n      />\n    </v-list-item>\n    <v-list-item>\n      <v-btn\n        icon=\"mdi-plus\"\n        color=\"green\"\n        variant=\"text\"\n        @click=\"onAppend()\"\n      />\n    </v-list-item>\n  </v-list>\n</template>\n\n<script>\nimport NoteItemEdit from \"./note-edit\";\nimport {createNewNote} from \"./document-detail-service\";\n\nexport default {\n  \"name\": \"DocumentDetailNotes\",\n  \"components\": {\n    \"app-item\": NoteItemEdit,\n  },\n  \"props\": {\n    \"documentIri\": {\"type\": String, \"required\": true},\n    \"modelValue\": {\"type\": Array, \"required\": true},\n  },\n  \"emits\": [\n    \"update:model-value\",\n    /**\n     * Change note properties.\n     */\n    \"edit-properties\",\n  ],\n  \"methods\": {\n    \"onChange\": function (index, value) {\n      this.$emit(\"update:model-value\", [\n        ...this.modelValue.slice(0, index),\n        value,\n        ...this.modelValue.slice(index + 1),\n      ]);\n    },\n    \"onInsert\": function (index) {\n      this.$emit(\"update:model-value\", [\n        ...this.modelValue.slice(0, index + 1),\n        createNewNote(this.iri, this.modelValue),\n        ...this.modelValue.slice(index + 1),\n      ]);\n    },\n    \"onDelete\": function (index) {\n      this.$emit(\"update:model-value\", [\n        ...this.modelValue.slice(0, index),\n        ...this.modelValue.slice(index + 1),\n      ]);\n    },\n    \"onAppend\": function () {\n      this.$emit(\"update:model-value\", [\n        ...this.modelValue,\n        createNewNote(this.iri, this.modelValue),\n      ]);\n    },\n    \"onEditProperties\": function(owner) {\n      this.$emit(\"edit-properties\", owner);\n    },\n  },\n};\n\n</script>\n","import { render } from \"./note-edit.vue?vue&type=template&id=6c914bcb&scoped=true\"\nimport script from \"./note-edit.vue?vue&type=script&lang=js\"\nexport * from \"./note-edit.vue?vue&type=script&lang=js\"\n\nimport \"./note-edit.vue?vue&type=style&index=0&id=6c914bcb&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/knoma/knoma/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6c914bcb\"]])\n\nexport default __exports__","import { render } from \"./document-detail-notes.vue?vue&type=template&id=78db7ffd\"\nimport script from \"./document-detail-notes.vue?vue&type=script&lang=js\"\nexport * from \"./document-detail-notes.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/runner/work/knoma/knoma/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <v-list class=\"py-0\">\n    <v-list-subheader>\n      <v-btn\n        icon=\"mdi-minus\"\n        color=\"red\"\n        size=\"x-small\"\n        variant=\"text\"\n        @click=\"onDelete\"\n      />\n      {{ definition.label }}\n    </v-list-subheader>\n    <v-list-item\n      v-for=\"(content, index) in modelValue\"\n      :key=\"index\"\n    >\n      <div style=\"display: flex\">\n        <v-btn\n          v-if=\"definition.multiple\"\n          icon=\"mdi-plus\"\n          variant=\"text\"\n          size=\"small\"\n          @click=\"onAddValue(index)\"\n        />\n        <v-btn\n          v-if=\"definition.multiple\"\n          icon=\"mdi-minus\"\n          variant=\"text\"\n          size=\"small\"\n          @click=\"onDeleteValue(index)\"\n        />\n        <v-text-field\n          v-if=\"definition.type === 'date'\"\n          :model-value=\"content\"\n          type=\"date\"\n          density=\"compact\"\n          :hide-details=\"true\"\n          @update:model-value=\"(v) => onUpdateValue(index, v)\"\n        />\n        <v-text-field\n          v-if=\"definition.type === 'string'\"\n          :model-value=\"content\"\n          density=\"compact\"\n          :hide-details=\"true\"\n          @update:model-value=\"(v) => onUpdateValue(index, v)\"\n        />\n        <v-select\n          v-else-if=\"definition.type === 'codelist'\"\n          :model-value=\"content\"\n          :items=\"items\"\n          item-text=\"title\"\n          item-value=\"iri\"\n          density=\"compact\"\n          :hide-details=\"true\"\n          @update:model-value=\"(v) => onUpdateValue(index, v)\"\n        />\n      </div>\n    </v-list-item>\n    <v-list-item v-if=\"modelValue.length === 0\">\n      <v-btn\n        icon=\"mdi-plus\"\n        size=\"x-small\"\n        @click=\"onAddValue()\"\n      />\n    </v-list-item>\n  </v-list>\n</template>\n\n<script>\nimport {getDatabase} from \"../database\";\n\nexport default {\n  \"name\": \"PropertiesDialogItem\",\n  \"props\": {\n    \"predicate\": {\"type\": String, \"required\": true},\n    \"modelValue\": {\"type\": Array, \"required\": true},\n  },\n  \"emits\": [\n    \"update:model-value\",\n    /**\n     * Delete item.\n     */\n    \"delete\",\n  ],\n  \"data\": () => ({\n    \"definition\": {},\n    \"loading\": false,\n    \"items\": [],\n  }),\n  \"mounted\": async function () {\n    const database = getDatabase();\n    this.loading = true;\n    this.definition = (await database.getPredicate(this.predicate)) || {};\n    if (this.definition.type === \"codelist\") {\n      const iris = await database.getCodelist(this.definition.codelist);\n      const items = [];\n      for (const iri of iris) {\n        items.push({\n          \"iri\": iri,\n          \"title\": await database.getLabel(iri),\n        });\n      }\n      this.items = items;\n    }\n    this.loading = false;\n  },\n  \"methods\": {\n    \"onDelete\": function () {\n      this.$emit(\"delete\");\n    },\n    \"onAddValue\": function (index) {\n      this.$emit(\"update:model-value\", [\n        ...this.modelValue.slice(0, index + 1),\n        \"\",\n        ...this.modelValue.slice(index + 1),\n      ]);\n    },\n    \"onDeleteValue\": function (index) {\n      this.$emit(\"update:model-value\", [\n        ...this.modelValue.slice(0, index),\n        ...this.modelValue.slice(index + 1),\n      ]);\n    },\n    \"onUpdateValue\": function (index, value) {\n      this.$emit(\"update:model-value\", [\n        ...this.modelValue.slice(0, index),\n        value,\n        ...this.modelValue.slice(index + 1),\n      ]);\n    },\n  },\n};\n</script>\n\n<style scoped>\n.flex {\n  display: flex;\n}\n</style>\n","<template>\n  <v-combobox\n    ref=\"input\"\n    v-model=\"value\"\n    :loading=\"loading\"\n    :disabled=\"loading\"\n    :items=\"filteredItems\"\n    :label=\"label\"\n    class=\"px-4\"\n    item-value=\"iri\"\n    item-title=\"label\"\n    return-object\n    autofocus\n  />\n</template>\n\n<script>\nimport {nextTick} from \"vue\";\n\nimport {getDatabase} from \"../database\";\n\nexport default {\n  \"name\": \"PropertySelector\",\n  \"props\": {\n    \"label\": {\"type\": String, \"required\": true},\n    \"types\": {\"type\": Array, \"required\": false, \"default\": undefined},\n  },\n  \"emits\": [\n    /**\n     * Add new property.\n     */\n    \"add\",\n  ],\n  \"data\": () => ({\n    \"value\": \"\",\n    \"loading\": false,\n    \"items\": [],\n    \"filteredItems\": [],\n    \"search\": null,\n  }),\n  \"watch\": {\n    \"value\": function (newValue) {\n      if (typeof(newValue) !== \"object\") {\n        return;\n      }\n      this.$emit(\"add\", newValue);\n      // Reset to nothing selected.\n      nextTick(() => {\n        this.value = \"\";\n        this.$refs.input.blur();\n      });\n    },\n    \"types\": function (value) {\n      this.updateFilteredItems(value);\n    },\n  },\n  \"mounted\": async function () {\n    this.loading = true;\n    this.items = await getDatabase().getPredicates();\n    this.updateFilteredItems(this.types);\n    this.loading = false;\n  },\n  \"methods\": {\n    \"updateFilteredItems\": function (types) {\n      this.filteredItems = this.items\n        .filter(item => shouldBeUsed(item.domain, types));\n    },\n  },\n};\n\nfunction shouldBeUsed(domain, currentTypes) {\n  if (domain === undefined || domain.length === 0) {\n    return true;\n  }\n  if (currentTypes === undefined) {\n    return false;\n  }\n  for (const typeObject of currentTypes) {\n    if (domain.includes(typeObject)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n</script>\n","<template>\n  <v-dialog\n    :model-value=\"visible\"\n    fullscreen\n    hide-overlay\n    transition=\"dialog-bottom-transition\"\n    @keydown.esc=\"onClose\"\n  >\n    <v-card>\n      <v-toolbar\n        dark\n        color=\"primary\"\n      >\n        <v-btn\n          icon=\"mdi-check\"\n          @click=\"onSave\"\n        />\n        <v-toolbar-title>Edit Properties</v-toolbar-title>\n        <v-spacer />\n        <v-toolbar-items>\n          <v-btn\n            icon=\"mdi-close\"\n            @click=\"onClose\"\n          />\n        </v-toolbar-items>\n      </v-toolbar>\n      <v-list>\n        <v-list-item\n          v-for=\"entry in Object.entries(modelValue)\"\n          :key=\"entry[0]\"\n        >\n          <v-list-item-title>\n            <app-property-edit\n              :predicate=\"entry[0]\"\n              :model-value=\"entry[1]\"\n              @update:model-value=\"(v) => onChange(entry[0], v)\"\n              @delete=\"onDelete(entry[0])\"\n            />\n          </v-list-item-title>\n        </v-list-item>\n        <v-list-item>\n          <app-property-selector\n            label=\"Add new predicate\"\n            :types=\"types\"\n            @add=\"onAdd\"\n          />\n        </v-list-item>\n      </v-list>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\nimport PropertyEdit from \"./properties-dialog-item\";\nimport PropertySelector from \"../components/property-selector\";\n\nexport default {\n  \"name\": \"PropertiesDialog\",\n  \"components\": {\n    \"app-property-edit\": PropertyEdit,\n    \"app-property-selector\": PropertySelector,\n  },\n  \"props\": {\n    \"modelValue\": {\"type\": Object, \"required\": true},\n    \"visible\": {\"type\": Boolean, \"required\": true},\n    \"types\": {\"type\": Array, \"required\": true},\n  },\n  \"emits\": [\n    \"update:model-value\",\n    /**\n     * Close dialog.\n     */\n    \"close\",\n    /**\n     * Save and close the dialog.\n     */\n    \"save\",\n  ],\n  \"methods\": {\n    \"onChange\": function (key, value) {\n      this.$emit(\"update:model-value\", {\n        ...this.modelValue,\n        [key]: value,\n      });\n    },\n    \"onDelete\": function (key) {\n      const newValue = {...this.modelValue};\n      delete newValue[key];\n      this.$emit(\"update:model-value\", newValue);\n    },\n    \"onAdd\": function (predicate) {\n      if (this.modelValue[predicate.iri] !== undefined) {\n        return;\n      }\n      this.$emit(\"update:model-value\", {\n        ...this.modelValue,\n        [predicate.iri]: [\"\"],\n      });\n    },\n    \"onSave\": function() {\n      this.$emit(\"save\");\n    },\n    \"onClose\": function() {\n      this.$emit(\"close\");\n    },\n  },\n};\n</script>\n","import { render } from \"./properties-dialog-item.vue?vue&type=template&id=0af5999e&scoped=true\"\nimport script from \"./properties-dialog-item.vue?vue&type=script&lang=js\"\nexport * from \"./properties-dialog-item.vue?vue&type=script&lang=js\"\n\nimport \"./properties-dialog-item.vue?vue&type=style&index=0&id=0af5999e&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/knoma/knoma/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0af5999e\"]])\n\nexport default __exports__","import { render } from \"./property-selector.vue?vue&type=template&id=785d7b99\"\nimport script from \"./property-selector.vue?vue&type=script&lang=js\"\nexport * from \"./property-selector.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/runner/work/knoma/knoma/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./properties-dialog.vue?vue&type=template&id=3661419f\"\nimport script from \"./properties-dialog.vue?vue&type=script&lang=js\"\nexport * from \"./properties-dialog.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/runner/work/knoma/knoma/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <v-dialog\n    :model-value=\"visible\"\n    persistent\n    @keydown.esc=\"onClose\"\n  >\n    <v-card>\n      <v-card-title class=\"headline\">\n        Type\n      </v-card-title>\n      <v-card-text class=\"mt-4\">\n        <v-select\n          :model-value=\"modelValue\"\n          :items=\"items\"\n          item-title=\"title\"\n          item-value=\"iri\"\n          label=\"Type\"\n          :multiple=\"multiple\"\n          chips\n          @update:model-value=\"onChange\"\n        />\n      </v-card-text>\n      <v-divider />\n      <v-card-actions>\n        <v-btn\n          color=\"primary\"\n          text\n          @click=\"onSave\"\n        >\n          Save\n        </v-btn>\n        <v-btn\n          text\n          @click=\"onClose\"\n        >\n          Close\n        </v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\nimport {getDatabase} from \"../database\";\n\nexport default {\n  \"name\": \"CodelistDialog\",\n  \"props\": {\n    \"modelValue\": {\"type\": Array, \"required\": true},\n    /**\n     * Name of a codelist to select values from.\n     */\n    \"codelist\": {\"type\": Array, \"required\": true},\n    \"visible\": {\"type\": Boolean, \"required\": true},\n    \"multiple\": {\"type\": Boolean, \"default\": true},\n    \"refreshOnShow\": {\"type\": Boolean, \"default\": false},\n  },\n  \"emits\": [\n    \"update:model-value\",\n    /**\n     * Close dialog.\n     */\n    \"close\",\n    /**\n     * Save and close the dialog.\n     */\n    \"save\",\n  ],\n  \"data\": () => ({\n    \"items\": [],\n    \"loading\": false,\n  }),\n  \"watch\": {\n    \"visible\": async function (newVisibility) {\n      if (!newVisibility) {\n        // Hiding the dialog.\n        return;\n      }\n      console.log(\"onShow\", this.modelValue);\n      if (this.refreshOnShow) {\n        await this.reloadCodelistFromDatabase();\n      }\n    },\n  },\n  \"mounted\": async function() {\n    await this.reloadCodelistFromDatabase();\n    console.log(\"mounted\", this.items);\n  },\n  \"methods\": {\n    \"reloadCodelistFromDatabase\": async function() {\n      const database = getDatabase();\n      this.loading = true;\n      const iris = await database.getCodelist(this.codelist);\n      const tags = [];\n      for (const iri of iris) {\n        tags.push({\n          \"iri\": iri,\n          \"title\": await database.getLabel(iri),\n        });\n      }\n      this.items = tags;\n      this.loading = false;\n    },\n    \"onChange\": function (value) {\n      if (!this.multiple) {\n        // When used without multiple, value is string instead of an array.\n        value = [value];\n      }\n      console.log(\"onChange\", value);\n      this.$emit(\"update:model-value\", value);\n    },\n    \"onClose\": function () {\n      console.log(\"onClose\", this.modelValue);\n      this.$emit(\"close\");\n    },\n    \"onSave\": function () {\n      console.log(\"onSave\", this.modelValue);\n      this.$emit(\"save\", this.modelValue);\n    },\n  },\n};\n</script>\n","import { render } from \"./codelist-dialog.vue?vue&type=template&id=70352c3f\"\nimport script from \"./codelist-dialog.vue?vue&type=script&lang=js\"\nexport * from \"./codelist-dialog.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/runner/work/knoma/knoma/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./document-detail.vue?vue&type=template&id=2556f472\"\nimport script from \"./document-detail.vue?vue&type=script&lang=js\"\nexport * from \"./document-detail.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/runner/work/knoma/knoma/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <v-container>\n    <app-filter\n      v-model=\"source.filters\"\n      @change=\"reload\"\n    />\n    <v-list class=\"item-list\">\n      <app-item\n        v-for=\"item in source.visibleDocuments\"\n        :key=\"item.iri\"\n        :value=\"item\"\n        @open=\"onOpen\"\n        @delete=\"onDelete\"\n      />\n      <v-divider />\n      <v-list-item>\n        <template v-if=\"source.visibleLimit < source.documents.length\">\n          <div>\n            Showing {{ source.visibleLimit }}\n            out of {{ source.documents.length }}\n            documents.\n          </div>\n          <v-btn\n            class=\"mt-2\"\n            @click=\"onShowMore\"\n          >\n            Show more\n          </v-btn>\n        </template>\n        <template v-else>\n          All of {{ source.documents.length }} documents are visible.\n        </template>\n      </v-list-item>\n    </v-list>\n    <div class=\"floating-menu\">\n      <v-btn\n        color=\"green darken-2\"\n        icon=\"mdi-plus\"\n        @click=\"onCreate\"\n      />\n    </div>\n    <v-overlay :value=\"loading\">\n      <v-progress-circular\n        :size=\"50\"\n        color=\"primary\"\n        indeterminate\n      />\n    </v-overlay>\n  </v-container>\n</template>\n\n<script>\nimport {getDatabase} from \"../database\";\nimport Item from \"./document-list-item\";\nimport Filter from \"./document-filter\";\nimport {FilteredDocumentSource} from \"./filtered-document-source\";\n\nexport default {\n  \"name\": \"DocumentListView\",\n  \"components\": {\n    \"app-item\": Item,\n    \"app-filter\": Filter,\n  },\n  \"data\": () => ({\n    \"source\": new FilteredDocumentSource(),\n    \"loading\": false,\n  }),\n  \"mounted\": async function mounted() {\n    await this.reload();\n  },\n  \"methods\": {\n    \"onOpen\": function (event) {\n      const location = {\n        \"name\": \"document-edit\",\n        \"query\": {\n          \"document\": event.iri,\n        },\n      };\n      if (event.ctrlKey) {\n        const url = this.$router.resolve(location).href;\n        window.open(url, \"_blank\");\n      } else {\n        this.$router.push(location);\n      }\n    },\n    \"onDelete\": async function (iri) {\n      this.loading = true;\n      const database = getDatabase();\n      await database.deleteDocument(iri);\n      this.loading = false;\n      //\n      await this.reload();\n    },\n    \"onCreate\": function () {\n      this.$router.push({\n        \"name\": \"document-edit\",\n      });\n    },\n    \"reload\": async function() {\n      this.loading = true;\n      await this.source.refresh();\n      this.loading = false;\n    },\n    \"onShowMore\": function() {\n      this.source.showMore();\n    },\n  },\n};\n</script>\n\n<style scoped>\n\n.floating-menu {\n  position: fixed;\n  right: 1rem;\n  bottom: 1rem;\n}\n\n.item-list {\n  margin-bottom: 5rem;\n}\n</style>\n","<template>\n  <v-list-item @click=\"onOpen\">\n    <v-list-item-title>\n      {{ value.title || value.iri }}\n    </v-list-item-title>\n\n    <v-list-item-subtitle>\n      <app-tags\n        :value=\"value.types\"\n        size=\"small\"\n      />\n      <v-chip\n        v-for=\"(tag, index) in tags\"\n        :key=\"index\"\n        :color=\"tag.color\"\n        size=\"small\"\n        variant=\"outlined\"\n        class=\"ma-1\"\n      >\n        {{ tag.label }}\n      </v-chip>\n    </v-list-item-subtitle>\n\n    <template #append>\n      <v-btn\n        color=\"red\"\n        icon=\"mdi-delete\"\n        variant=\"text\"\n        @click.stop=\"onDelete\"\n      />\n    </template>\n  </v-list-item>\n</template>\n\n<script>\nimport TagLine from \"../components/tag-line\";\nimport {buildDocumentTagList} from \"./document-list-service\";\n\nexport default {\n  \"name\": \"DocumentListItem\",\n  \"components\": {\n    \"app-tags\": TagLine,\n  },\n  \"props\": {\n    \"value\": {\"type\": Object, \"required\": true},\n  },\n  \"emits\": [\n    /**\n     * Open this item.\n     */\n    \"open\",\n    /**\n     * Delete item.\n     */\n    \"delete\",\n  ],\n  \"data\": () => ({\n    \"tags\": [],\n  }),\n  \"mounted\": async function () {\n    await this.refresh();\n  },\n  \"methods\": {\n    \"onOpen\": function (event) {\n      this.$emit(\"open\", {\n        \"iri\": this.value.iri,\n        \"ctrlKey\": event.ctrlKey,\n      });\n    },\n    \"onDelete\": function () {\n      this.$emit(\"delete\", this.value.iri);\n    },\n    \"refresh\": async function () {\n      this.tags = await buildDocumentTagList(this.value);\n    },\n  },\n};\n</script>\n","import { getDatabase, PredicateEditType } from \"../database\";\nexport async function buildDocumentTagList(document) {\n    const database = getDatabase();\n    const result = [];\n    for (const iri of Object.keys(document.properties).sort()) {\n        const predicate = await database.getPredicate(iri);\n        if (predicate === undefined) {\n            continue;\n        }\n        const color = predicate.listColour;\n        if (color === undefined) {\n            continue;\n        }\n        const priority = predicate.listPriority ?? 0;\n        if (predicate.type === PredicateEditType.Codelist) {\n            for (const value of document.properties[iri]) {\n                const label = await database.getLabel(value);\n                result.push({\n                    \"label\": label,\n                    \"color\": color,\n                    \"priority\": priority,\n                });\n            }\n        }\n        else {\n            for (const label of document.properties[iri]) {\n                result.push({\n                    \"label\": label,\n                    \"color\": color,\n                    \"priority\": priority,\n                });\n            }\n        }\n    }\n    result.sort((left, right) => right.priority - left.priority);\n    return result;\n}\n","import { render } from \"./document-list-item.vue?vue&type=template&id=2b859db4\"\nimport script from \"./document-list-item.vue?vue&type=script&lang=js\"\nexport * from \"./document-list-item.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/runner/work/knoma/knoma/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"pb-2\">\n    <v-text-field\n      label=\"Text search\"\n      :value=\"modelValue.search\"\n      @update:model-value=\"onSearchInput\"\n      @change=\"onChange\"\n    />\n    <app-type-filter\n      :value=\"modelValue\"\n      @input=\"onInput\"\n      @change=\"onChange\"\n    />\n    <app-property-filter\n      :value=\"modelValue\"\n      @input=\"onInput\"\n      @change=\"onChange\"\n    />\n  </div>\n</template>\n\n<script>\nimport TypeFilter from \"./type-filter\";\nimport PropertyFilter from \"./property-filter\";\n\nexport default {\n  \"name\": \"DocumentFilter\",\n  \"components\": {\n    \"app-type-filter\": TypeFilter,\n    \"app-property-filter\": PropertyFilter,\n  },\n  \"props\": {\n    \"modelValue\": {\"type\": Object, \"required\": true},\n  },\n  \"emits\": [\n    \"update:model-value\",\n    /**\n     * Input value has changed.\n     */\n    \"change\",\n  ],\n  \"methods\": {\n    \"onSearchInput\": function (value) {\n      this.$emit(\"update:model-value\", {\n        ...this.modelValue,\n        \"search\": value,\n      });\n      this.$emit(\"change\");\n    },\n    \"onChange\": function () {\n      this.$emit(\"change\");\n    },\n    \"onInput\": function(value) {\n      this.$emit(\"update:model-value\", value);\n    },\n  },\n};\n</script>","<template>\n  <div>\n    <div>\n      Types:\n      &nbsp;\n      <v-btn\n        icon=\"mdi-plus\"\n        size=\"x-small\"\n        @click=\"onAddInclude\"\n      />\n      &nbsp;\n      <v-btn\n        icon=\"mdi-minus\"\n        size=\"x-small\"\n        @click=\"onAddExclude\"\n      />\n    </div>\n    <div class=\"tag-line\">\n      <v-chip\n        v-for=\"(tag, index) in tags\"\n        :key=\"tag.iri\"\n        :color=\"tag.include ? 'green' : 'red'\"\n        size=\"small\"\n        class=\"mr-2\"\n        closable\n        @click:close=\"onRemoveType(index)\"\n      >\n        {{ tag.label }}\n      </v-chip>\n    </div>\n    <app-codelist-dialog\n      v-model=\"dialog.items\"\n      :visible=\"dialog.visible\"\n      :codelist=\"['http://www.w3.org/2000/01/rdf-schema#Class']\"\n      :multiple=\"false\"\n      @save=\"onSaveTypeDialog\"\n      @close=\"onCloseTypeDialog\"\n    />\n  </div>\n</template>\n\n<script>\nimport CodelistDialog from \"../components/codelist-dialog\";\nimport {getDatabase} from \"../database\";\n\nexport default {\n  \"name\": \"TypeFilter\",\n  \"components\": {\n    \"app-codelist-dialog\": CodelistDialog,\n  },\n  \"props\": {\n    \"value\": {\"type\": Object, \"required\": true},\n  },\n  \"emits\": [\n    \"input\",\n    /**\n     * Input value has changed.\n     */\n    \"change\",\n  ],\n  \"data\": () => ({\n    \"dialog\": {\n      \"items\": [],\n      \"visible\": false,\n      \"include\": true,\n    },\n    \"tags\": [],\n  }),\n  \"watch\": {\n    \"value.types\": function (oldValue, newValue) {\n      if (oldValue === newValue) {\n        return;\n      }\n      this.computeTags();\n    },\n  },\n  \"methods\": {\n    \"onAddInclude\": function () {\n      this.dialog.visible = true;\n      this.dialog.include = true;\n    },\n    \"onAddExclude\": function () {\n      this.dialog.visible = true;\n      this.dialog.include = false;\n    },\n    \"onSaveTypeDialog\": function (value) {\n      this.dialog.visible = false;\n      this.dialog.items = [];\n      if (value.length === 0) {\n        // No value.\n        return;\n      }\n      const iri = value[0];\n      // Check if the element is already in the list.\n      for (const index in this.value.types) {\n        const item = this.value.types[index];\n        if (item.iri !== iri) {\n          continue;\n        }\n        if (item.include === this.dialog.include) {\n          // Item is already stored.\n          return;\n        }\n        // Just update include and cancel.\n        this.$emit(\"input\", {\n          ...this.value,\n          \"types\": [\n            ...this.value.types.slice(0, index),\n            {\n              \"iri\": iri,\n              \"include\": this.dialog.include,\n            },\n            ...this.value.types.slice(index + 1),\n          ],\n        });\n        this.$emit(\"change\");\n        return;\n      }\n      // There is no such element.\n      this.$emit(\"input\", {\n        ...this.value,\n        \"types\": [\n          ...this.value.types,\n          {\n            \"iri\": iri,\n            \"include\": this.dialog.include,\n          },\n        ],\n      });\n      this.$emit(\"change\");\n    },\n    \"computeTags\": async function () {\n      const result = [];\n      const database = getDatabase();\n      for (const item of this.value.types) {\n        result.push({\n          \"iri\": item.iri,\n          \"label\": await database.getLabel(item.iri),\n          \"include\": item.include,\n        });\n      }\n      this.tags = result;\n    },\n    \"onCloseTypeDialog\": function () {\n      this.dialog.visible = false;\n      this.dialog.items = [];\n    },\n    \"onRemoveType\": function(index) {\n      this.$emit(\"input\", {\n        ...this.value,\n        \"types\": [\n          ...this.value.types.slice(0, index),\n          ...this.value.types.slice(index + 1),\n        ],\n      });\n      this.$emit(\"change\");\n    },\n  },\n};\n</script>\n\n<style scoped>\n\n.tag-line {\n  margin: 0.5rem;\n}\n\n</style>","<template>\n  <div>\n    <div>\n      Properties:\n      &nbsp;\n      <v-btn\n        size=\"small\"\n        @click=\"onOpenPropertiesDialog\"\n      >\n        Edit\n      </v-btn>\n      &nbsp;\n      <v-btn\n        size=\"small\"\n        @click=\"onClear\"\n      >\n        Clear\n      </v-btn>\n    </div>\n    <app-properties-preview :value=\"value\" />\n    <app-property-dialog\n      v-model=\"properties\"\n      :visible=\"visible\"\n      :types=\"types\"\n      @save=\"onSavePropertiesDialog\"\n      @close=\"onClosePropertiesDialog\"\n    />\n  </div>\n</template>\n\n<script>\nimport PropertyDialog from \"../components/properties-dialog\";\nimport PropertiesPreview from \"../components/properties-preview\";\n\nexport default {\n  \"name\": \"PropertyFilter\",\n  \"components\": {\n    \"app-property-dialog\": PropertyDialog,\n    \"app-properties-preview\": PropertiesPreview,\n  },\n  \"props\": {\n    \"value\": {\"type\": Object, \"required\": true},\n  },\n  \"emits\": [\n    \"input\",\n    /**\n     * Input value has changed.\n     */\n    \"change\",\n  ],\n  \"data\": () => ({\n    // Local copy of the data.\n    \"properties\": {},\n    \"visible\": false,\n    \"types\": [],\n  }),\n  \"methods\": {\n    \"onOpenPropertiesDialog\": function () {\n      this.properties = copyProperties(this.value.properties);\n      this.visible = true;\n    },\n    \"onClear\": function() {\n      this.$emit(\"input\", {\n        ...this.value,\n        \"properties\": {},\n      });\n      this.$emit(\"change\");\n    },\n    \"onSavePropertiesDialog\": async function () {\n      this.visible = false;\n      this.$emit(\"input\", {\n        ...this.value,\n        \"properties\": this.properties,\n      });\n      this.$emit(\"change\");\n    },\n    \"onClosePropertiesDialog\": function () {\n      this.visible = false;\n    },\n  },\n};\n\nfunction copyProperties(properties) {\n  const result = {};\n  for (const [key, value] of Object.entries(properties)) {\n    result[key] = [...value];\n  }\n  return result;\n}\n\n</script>","import { render } from \"./type-filter.vue?vue&type=template&id=7482b648&scoped=true\"\nimport script from \"./type-filter.vue?vue&type=script&lang=js\"\nexport * from \"./type-filter.vue?vue&type=script&lang=js\"\n\nimport \"./type-filter.vue?vue&type=style&index=0&id=7482b648&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/knoma/knoma/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7482b648\"]])\n\nexport default __exports__","import { render } from \"./property-filter.vue?vue&type=template&id=697276a2\"\nimport script from \"./property-filter.vue?vue&type=script&lang=js\"\nexport * from \"./property-filter.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/runner/work/knoma/knoma/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./document-filter.vue?vue&type=template&id=04bfc730\"\nimport script from \"./document-filter.vue?vue&type=script&lang=js\"\nexport * from \"./document-filter.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/runner/work/knoma/knoma/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { getDatabase } from \"../database\";\nexport class DocumentFilters {\n    search = \"\";\n    types = [];\n    properties = {};\n}\nexport class FilteredDocumentSource {\n    documents = [];\n    visibleDocuments = [];\n    filters = new DocumentFilters();\n    visibleLimit = 12;\n    async refresh() {\n        const database = getDatabase();\n        const documents = await database.getDocuments();\n        this.documents = documents.filter(doc => this.filterDocument(doc));\n        this.visibleDocuments = this.documents.slice(0, this.visibleLimit);\n    }\n    filterDocument(document) {\n        return this.filterBySearch(document)\n            && this.filterByType(document)\n            && this.filterByProperties(document);\n    }\n    filterBySearch(document) {\n        // Check that we have filter value set.\n        const search = this.filters.search;\n        if (search === undefined || search == null || search.length < 2) {\n            return true;\n        }\n        // Use lowercase match as a filter.\n        const title = document.title.toLowerCase();\n        if (!title.includes(search.toLowerCase())) {\n            return false;\n        }\n        return true;\n    }\n    filterByType(document) {\n        const filterTypes = this.filters.types;\n        if (filterTypes.length === 0) {\n            return true;\n        }\n        const documentTypes = document.types;\n        for (const type of filterTypes) {\n            const documentIncludeType = documentTypes.includes(type.iri);\n            if (documentIncludeType === type.include) {\n                continue;\n            }\n            return false;\n        }\n        return true;\n    }\n    filterByProperties(document) {\n        for (const [iri, filterValues] of Object.entries(this.filters.properties)) {\n            const documentValues = document.properties[iri];\n            if (documentValues === undefined) {\n                return false;\n            }\n            // If no values are provided just check that there is a value.\n            for (const filterValue of filterValues) {\n                if (filterValue === \"\") {\n                    continue;\n                }\n                if (documentValues.includes(filterValue)) {\n                    continue;\n                }\n                return false;\n            }\n        }\n        return true;\n    }\n    showMore() {\n        this.visibleLimit += 12;\n        this.visibleDocuments = this.documents.slice(0, this.visibleLimit);\n    }\n}\n","import About from \"../about/about\";\nimport DocumentDetail from \"../document-detail/document-detail\";\nimport DocumentList from \"../document-list/document-list\";\n\nconst routes = [\n  {\n    \"path\": \"/\",\n    \"name\": \"home\",\n    \"component\": About,\n  }, {\n    \"path\": \"/document-edit\",\n    \"name\": \"document-edit\",\n    \"component\": DocumentDetail,\n  }, {\n    \"path\": \"/documents\",\n    \"name\": \"documents\",\n    \"component\": DocumentList,\n  }, {\n    \"path\": \"/about\",\n    \"name\": \"about\",\n    \"component\": About,\n  },\n];\n\nexport default routes;\n","import { render } from \"./document-list.vue?vue&type=template&id=d516bb26&scoped=true\"\nimport script from \"./document-list.vue?vue&type=script&lang=js\"\nexport * from \"./document-list.vue?vue&type=script&lang=js\"\n\nimport \"./document-list.vue?vue&type=style&index=0&id=d516bb26&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/runner/work/knoma/knoma/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-d516bb26\"]])\n\nexport default __exports__","<template>\n  <v-app>\n    <v-app-bar>\n      <v-app-bar-title>\n        Knowledge Manager\n      </v-app-bar-title>\n      <v-spacer />\n      <v-btn\n        :to=\"{'name':'documents'}\"\n        class=\"mr-6\"\n      >\n        Documents\n      </v-btn>\n      <v-btn\n        :to=\"{'name':'about'}\"\n        class=\"mr-6\"\n      >\n        About\n      </v-btn>\n      <v-btn\n        href=\"https://github.com/skodapetr/knoma/issues\"\n        rel=\"noopener noreferrer\"\n        target=\"_blank\"\n      >\n        GitHub\n      </v-btn>\n    </v-app-bar>\n    <v-main>\n      <router-view />\n    </v-main>\n    <notifications />\n  </v-app>\n</template>\n\n<script>\nexport default {\n  \"name\": \"ApplicationLayout\",\n};\n</script>\n","import { render } from \"./layout.vue?vue&type=template&id=74b9f884\"\nimport script from \"./layout.vue?vue&type=script&lang=js\"\nexport * from \"./layout.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/home/runner/work/knoma/knoma/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import {createApp} from \"vue\";\nimport {createRouter, createWebHashHistory} from \"vue-router\";\nimport Notifications from \"@kyvg/vue3-notification\";\n// Vuetify\nimport \"vuetify/styles\";\nimport { createVuetify } from \"vuetify\";\nimport * as components from \"vuetify/components\";\nimport * as directives from \"vuetify/directives\";\n\nimport routes from \"./application/routes\";\nimport Application from \"./application/layout.vue\";\n\nconst router = createRouter({\n  \"history\": createWebHashHistory(),\n  \"routes\": routes,\n});\n\nconst vuetify = createVuetify({\n  \"components\": components,\n  \"directives\": directives,\n  \"theme\": {\n    \"defaultTheme\": \"dark\",\n    \"themes\": {\n      \"dark\": {\n        \"colors\": {\n          \"primary\": \"#3739FF\",\n        },\n      },\n    },\n  },\n});\n\nconst app = createApp(Application);\napp.use(vuetify);\napp.use(router);\napp.use(Notifications);\napp.mount(\"#application\");\n"],"names":["_createElementVNode","DatabaseType","configuration","getConfiguration","PredicateEditType","LABELS","CODE_LISTS","PREDICATES","Codelist","undefined","String","Date","getCoreCodelistItem","type","predicate","iri","label","copyPredicateLabelsToLabels","SimpleDatabase","documents","async","this","refreshDocuments","result","document","types","includes","push","documentToPredicate","predicates","getPredicates","Set","item","add","isIntersecting","properties","title","left","right","leftItem","codelist","listColour","listPriority","parseInt","HttpDatabase","documentsAreDirty","getDatabaseLabel","response","axios","data","url","encodeURIComponent","LIST_IDENTIFIER","LocalStorageDatabase","localStorage","removeItem","index","findDocument","splice","saveDocuments","length","content","JSON","stringify","setItem","contentAsString","getItem","parse","newDocument","description","created","database","HTTP","LOCAL_STORAGE","now","toISOString","substr","storeDocument","addDemoContent","createLocalStorageDatabase","createDatabase","getDatabase","_createElementBlock","_hoisted_1","_hoisted_2","_toDisplayString","_ctx","databaseLabel","_hoisted_3","AboutInstance","AboutKeyboard","AboutPredicates","AboutText","_createBlock","_component_v_container","_createVNode","_component_v_tabs","tab","$event","grow","_component_v_tab","_component_v_window","style","_component_v_window_item","_component_app_instance","_component_app_keyboard","_component_app_types","_component_app_predicates","_component_app_text","class","Array","computeTags","value","getLabel","tags","$emit","_Fragment","_renderList","tag","_component_v_chip","key","size","onClick","TagLine","Object","_component_app_tags","onEditType","_component_v_btn","variant","icon","nextProperties","updateProperties","predicateIri","items","entries","getPredicate","itemsToShow","predicateToValues","sort","localeCompare","values","TypeLine","PropertiesPreview","navigator","clipboard","writeText","modelValue","owner","onCopyIri","_cache","onEditProperties","onInput","_component_v_text_field","required","onChangeTitle","_component_v_textarea","clearable","rows","onChangeDescription","_component_app_properties_preview","_component_v_layout","onSave","onClose","documentIri","identifier","event","altKey","text","target","selectionStart","selectionEnd","onKeyAltDown","nextTick","positionStart","positionEnd","preventDefault","clipboardData","file","getAsFile","reader","FileReader","onload","imageInBase64","readAsDataURL","showImage","createNewNote","notes","nextIndex","map","note","Number","reduce","Math","max","padStart","getTextAreas","window","querySelectorAll","_component_v_card","width","_component_v_card_title","_component_v_spacer","color","onDelete","onAdd","_component_v_card_text","onChangeContent","onPaste","onKeydown","onKeyDown","src","image","_component_v_card_actions","onToggleImage","onClearImage","slice","_component_v_list","_component_v_list_item","_component_app_item","v","onChange","onInsert","onAppend","loading","definition","iris","getCodelist","newValue","$refs","input","blur","updateFilteredItems","filteredItems","filter","domain","currentTypes","typeObject","shouldBeUsed","_component_v_list_subheader","multiple","onAddValue","onDeleteValue","density","onUpdateValue","_component_v_select","_component_v_combobox","ref","disabled","autofocus","Boolean","_component_v_dialog","visible","fullscreen","transition","_withKeys","_component_v_toolbar","dark","_component_v_toolbar_title","_component_v_toolbar_items","entry","_component_v_list_item_title","_component_app_property_edit","_component_app_property_selector","newVisibility","console","log","refreshOnShow","reloadCodelistFromDatabase","persistent","chips","_component_v_divider","Header","Items","PropertyDialog","CodelistDialog","getTime","replace","c","r","random","toString","addEventListener","$route","query","getDocument","removeEventListener","ctrlKey","pop","focus","nodes","active","activeElement","indexOf","focusPreviousNote","focusNextNote","propertyDialog","cloneProperties","open","typeDialog","$notify","ex","$router","source","isArray","_component_app_header","onOpenPropertiesDialog","onOpenTypeDialog","_component_app_items","_component_app_property_dialog","onSavePropertiesDialog","onClosePropertiesDialog","_component_app_codelist_dialog","onSaveTypeDialog","onCloseTypeDialog","refresh","keys","priority","buildDocumentTagList","onOpen","append","_withCtx","_withModifiers","_component_v_list_item_subtitle","oldValue","dialog","include","copyProperties","onAddInclude","onAddExclude","closable","onRemoveType","onClear","search","onSearchInput","_component_app_type_filter","_component_app_property_filter","DocumentFilters","FilteredDocumentSource","visibleDocuments","filters","visibleLimit","getDocuments","doc","filterDocument","filterBySearch","filterByType","filterByProperties","toLowerCase","filterTypes","documentTypes","filterValues","documentValues","filterValue","showMore","Item","Filter","reload","location","resolve","href","deleteDocument","About","DocumentDetail","_component_app_filter","onShowMore","onCreate","_component_v_overlay","_component_v_progress_circular","indeterminate","_component_v_app","_component_v_app_bar","_component_v_app_bar_title","to","rel","_component_v_main","_component_router_view","_component_notifications","router","createRouter","createWebHashHistory","routes","vuetify","createVuetify","components","directives","app","createApp","Application","use","Notifications","mount"],"sourceRoot":""}