{"version":3,"file":"main.9e5ee4a142ec2159.bundle.js","mappings":"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","sources":["webpack://knoma/./client/about/about-instance.vue","webpack://knoma/./client/application/configuration.ts","webpack://knoma/./client/database/model.ts","webpack://knoma/./client/database/predefined.ts","webpack://knoma/./client/database/template.ts","webpack://knoma/./client/database/database-simple.ts","webpack://knoma/./client/database/database-http.ts","webpack://knoma/./client/database/database-local-storage.ts","webpack://knoma/./client/database/model-factory.ts","webpack://knoma/./client/database/index.ts","webpack://knoma/./client/about/about-instance.vue?c6f6","webpack://knoma/./client/about/about-keyboard.vue","webpack://knoma/./client/about/about-keyboard.vue?c235","webpack://knoma/./client/about/about-predicates.vue","webpack://knoma/./client/about/about-predicates.vue?a12f","webpack://knoma/./client/about/about-text.vue","webpack://knoma/./client/about/about-text.vue?4f05","webpack://knoma/./client/about/about-types.vue","webpack://knoma/./client/about/about.vue","webpack://knoma/./client/about/about-types.vue?435b","webpack://knoma/./client/about/about.vue?ddf4","webpack://knoma/./client/document-detail/document-detail.vue","webpack://knoma/./client/document-detail/document-detail-header.vue","webpack://knoma/./client/components/tag-line.vue","webpack://knoma/./client/components/tag-line.vue?eef9","webpack://knoma/./client/document-detail/type-line.vue","webpack://knoma/./client/document-detail/type-line.vue?90d7","webpack://knoma/./client/components/properties-preview.vue","webpack://knoma/./client/components/properties-preview.vue?b6b3","webpack://knoma/./client/document-detail/document-detail-header.vue?6a1f","webpack://knoma/./client/document-detail/document-detail-notes.vue","webpack://knoma/./client/document-detail/note-edit.vue","webpack://knoma/./client/document-detail/note-edit-service.ts","webpack://knoma/./client/document-detail/document-detail-service.ts","webpack://knoma/./client/document-detail/note-edit.vue?55ef","webpack://knoma/./client/document-detail/document-detail-notes.vue?3192","webpack://knoma/./client/components/properties-dialog-item.vue","webpack://knoma/./client/components/property-selector.vue","webpack://knoma/./client/components/properties-dialog.vue","webpack://knoma/./client/components/properties-dialog-item.vue?ef23","webpack://knoma/./client/components/property-selector.vue?f784","webpack://knoma/./client/components/properties-dialog.vue?5b9d","webpack://knoma/./client/components/codelist-dialog.vue","webpack://knoma/./client/components/codelist-dialog.vue?3ea5","webpack://knoma/./client/document-detail/document-detail.vue?c7f1","webpack://knoma/./client/document-list/document-list.vue","webpack://knoma/./client/document-list/document-list-item.vue","webpack://knoma/./client/document-list/document-list-service.ts","webpack://knoma/./client/document-list/document-list-item.vue?cea0","webpack://knoma/./client/document-list/document-filter.vue","webpack://knoma/./client/document-list/type-filter.vue","webpack://knoma/./client/document-list/property-filter.vue","webpack://knoma/./client/document-list/type-filter.vue?5f67","webpack://knoma/./client/document-list/property-filter.vue?f428","webpack://knoma/./client/document-list/document-filter.vue?da5f","webpack://knoma/./client/document-list/filtered-document-source.ts","webpack://knoma/./client/document-list/create-document-dialog.vue","webpack://knoma/./client/document-list/create-document-dialog.vue?a681","webpack://knoma/./client/document-list/document-list.vue?eb8e","webpack://knoma/./client/application/routes.js","webpack://knoma/./client/application/layout.vue","webpack://knoma/./client/application/layout.vue?b47c","webpack://knoma/./client/index.js"],"sourcesContent":["<template>\n  <section>\n    <h2>Instance</h2>\n    <dl>\n      <dt>Database:</dt>\n      <dd>{{ databaseLabel }}</dd>\n    </dl>\n  </section>\n</template>\n\n<script>\nimport {getDatabase} from \"../database\";\n\nexport default {\n  \"name\": \"AboutInstance\",\n  \"data\": () => ({\n    \"databaseLabel\": getDatabase().getDatabaseLabel(),\n  }),\n};\n</script>","export var DatabaseType;\n(function (DatabaseType) {\n    DatabaseType[DatabaseType[\"HTTP\"] = 0] = \"HTTP\";\n    DatabaseType[DatabaseType[\"LOCAL_STORAGE\"] = 1] = \"LOCAL_STORAGE\";\n})(DatabaseType || (DatabaseType = {}));\nconst configuration = {\n    \"domain\": \"http://localhost/\",\n    \"database\": __DATABASE__,\n};\nexport function getConfiguration() {\n    return configuration;\n}\n","/**\n * Codelist of predicate edit types, those determine input type.\n */\nexport var PredicateEditType;\n(function (PredicateEditType) {\n    PredicateEditType[\"String\"] = \"string\";\n    PredicateEditType[\"Date\"] = \"date\";\n    PredicateEditType[\"Codelist\"] = \"codelist\";\n})(PredicateEditType || (PredicateEditType = {}));\n","import { PredicateEditType } from \"./model\";\n/**\n * Represent a quote of the source material.\n */\nexport const QUOTE = \"https://skodapetr.github.io/knoma/vocabulary#Quote\";\n/**\n * Represent a template new documents can be created from.\n */\nexport const DOCUMENT_TEMPLATE = \"https://skodapetr.github.io/knoma/vocabulary#Template\";\n/**\n * Represent a quick note.\n */\nexport const DOCUMENT_NOTE = \"https://skodapetr.github.io/knoma/vocabulary#QuickNote\";\n/**\n * Represent a note inside a document.\n * This is not stored, we use it only to select properties for notes.\n */\nexport const NOTE = \"https://skodapetr.github.io/knoma/vocabulary#Note\";\nexport const TEMPLATE_EMPTY = \"https://skodapetr.github.io/knoma/resources/empty-template\";\nexport const NOTE_TEMPLATE = \"https://skodapetr.github.io/knoma/resources/quick-note-template\";\nconst LABELS = {\n    \"http://www.w3.org/2004/02/skos/core#ConceptScheme\": \"Concept Scheme\",\n    \"http://www.w3.org/2004/02/skos/core#Concept\": \"Concept\",\n    \"http://www.w3.org/2000/01/rdf-schema#Property\": \"Property\",\n    \"http://www.w3.org/2000/01/rdf-schema#Class\": \"Class\",\n    [DOCUMENT_TEMPLATE]: \"Template\",\n    [DOCUMENT_NOTE]: \"Quick note\",\n};\nconst CODE_LISTS = {\n    \"http://www.w3.org/2000/01/rdf-schema#Class\": [\n        \"http://www.w3.org/2004/02/skos/core#ConceptScheme\",\n        \"http://www.w3.org/2004/02/skos/core#Concept\",\n        \"http://www.w3.org/2000/01/rdf-schema#Property\",\n        \"http://www.w3.org/2000/01/rdf-schema#Class\",\n        DOCUMENT_TEMPLATE,\n        DOCUMENT_NOTE,\n    ],\n};\nconst PREDICATES = [\n    {\n        \"iri\": \"http://www.w3.org/2004/02/skos/core#inScheme\",\n        \"label\": \"In scheme\",\n        \"multiple\": true,\n        \"type\": PredicateEditType.Codelist,\n        \"codelist\": [\n            \"http://www.w3.org/2004/02/skos/core#ConceptScheme\",\n        ],\n        \"domain\": [\n            \"http://www.w3.org/2004/02/skos/core#Concept\",\n        ],\n        \"listColour\": undefined,\n        \"listPriority\": undefined,\n    }, {\n        \"iri\": \"https://skodapetr.github.io/knoma/vocabulary#url\",\n        \"label\": \"URL\",\n        \"multiple\": false,\n        \"type\": PredicateEditType.String,\n        \"codelist\": undefined,\n        \"domain\": undefined,\n        \"listColour\": undefined,\n        \"listPriority\": undefined,\n    }, {\n        \"iri\": \"https://skodapetr.github.io/knoma/vocabulary#doi\",\n        \"label\": \"DOI\",\n        \"multiple\": false,\n        \"type\": PredicateEditType.String,\n        \"codelist\": undefined,\n        \"domain\": undefined,\n        \"listColour\": undefined,\n        \"listPriority\": undefined,\n    }, {\n        \"iri\": \"https://skodapetr.github.io/knoma/vocabulary#author\",\n        \"label\": \"Author\",\n        \"multiple\": false,\n        \"type\": PredicateEditType.String,\n        \"codelist\": undefined,\n        \"domain\": undefined,\n        \"listColour\": undefined,\n        \"listPriority\": undefined,\n    }, {\n        \"iri\": \"https://skodapetr.github.io/knoma/vocabulary#published\",\n        \"label\": \"Published\",\n        \"multiple\": false,\n        \"type\": PredicateEditType.Date,\n        \"codelist\": undefined,\n        \"domain\": undefined,\n        \"listColour\": undefined,\n        \"listPriority\": undefined,\n    }, {\n        \"iri\": \"http://www.w3.org/2000/01/rdf-schema#domain\",\n        \"label\": \"Domain\",\n        \"multiple\": true,\n        \"type\": PredicateEditType.Codelist,\n        \"codelist\": [\n            \"http://www.w3.org/2004/02/skos/core#ConceptScheme\",\n        ],\n        \"domain\": [\n            \"http://www.w3.org/2000/01/rdf-schema#Property\",\n        ],\n        \"listColour\": undefined,\n        \"listPriority\": undefined,\n    }, {\n        // Used by notes to reference another note or a document.\n        \"iri\": \"https://skodapetr.github.io/knoma/vocabulary#ref\",\n        \"label\": \"Reference\",\n        \"multiple\": false,\n        \"type\": PredicateEditType.String,\n        \"codelist\": undefined,\n        \"domain\": undefined,\n        \"listColour\": undefined,\n        \"listPriority\": undefined,\n    }, {\n        // If document is a value in a codelist and this values is set,\n        // it determines the color the value is shown in the list.\n        \"iri\": \"https://skodapetr.github.io/knoma/vocabulary#listColor\",\n        \"label\": \"List color\",\n        \"multiple\": false,\n        \"type\": PredicateEditType.String,\n        \"codelist\": undefined,\n        \"domain\": undefined,\n        \"listColour\": undefined,\n        \"listPriority\": undefined,\n    }, {\n        // In addition to listColor user can specify priority. If not set default\n        // is zero. This value is used to order tags in the document list.\n        \"iri\": \"https://skodapetr.github.io/knoma/vocabulary#listPriority\",\n        \"label\": \"List priority\",\n        \"multiple\": false,\n        \"type\": PredicateEditType.String,\n        \"codelist\": undefined,\n        \"domain\": undefined,\n        \"listColour\": undefined,\n        \"listPriority\": undefined,\n    },\n];\n(function initialize() {\n    copyPredicateLabelsToLabels();\n})();\nfunction copyPredicateLabelsToLabels() {\n    for (const predicate of PREDICATES) {\n        LABELS[predicate.iri] = predicate.label;\n    }\n}\nexport function getCoreLabel(type) {\n    return LABELS[type];\n}\nexport function getCoreCodelistItem(type) {\n    return CODE_LISTS[type] || [];\n}\nexport function getCorePredicate() {\n    return PREDICATES;\n}\n","import { DOCUMENT_NOTE, NOTE_TEMPLATE, TEMPLATE_EMPTY, } from \"./predefined\";\nconst regExp = new RegExp(\"\\\\${{([^}]*)}}\", \"g\");\nconst TITLE_PLACEHOLDER = \"Title\";\nexport function createEmptyTemplate() {\n    return {\n        \"iri\": TEMPLATE_EMPTY,\n        \"identifier\": \"\",\n        \"types\": [],\n        \"title\": \"Empty document\",\n        \"description\": \"\",\n        \"created\": new Date().toISOString().substring(0, 10),\n        \"properties\": {},\n        \"items\": [],\n    };\n}\nexport function createQuickNoteTemplate() {\n    const now = new Date().toISOString().substring(0, 10);\n    return {\n        \"iri\": NOTE_TEMPLATE,\n        \"identifier\": \"\",\n        \"types\": [DOCUMENT_NOTE],\n        \"title\": \"Quick note\",\n        \"description\": \"${{Description}}\",\n        \"created\": now,\n        \"properties\": {},\n        \"items\": [{\n                \"identifier\": \"000\",\n                \"types\": [],\n                \"properties\": {},\n                \"created\": now,\n                \"text\": \"[${{Title}}](${{URL}})\",\n                \"image\": undefined,\n            }],\n    };\n}\nexport function selectTemplateValues(document) {\n    const result = new Set();\n    result.add(TITLE_PLACEHOLDER); // Add title by default.\n    addPlaceholdersToSet(result, document.title);\n    addPlaceholdersToSet(result, document.description);\n    for (const items of Object.values(document.properties)) {\n        for (const item of items) {\n            addPlaceholdersToSet(result, item);\n        }\n    }\n    for (const item of document.items) {\n        addPlaceholdersToSet(result, item.text);\n    }\n    return [...result.values()];\n}\nfunction addPlaceholdersToSet(collector, value) {\n    [...value.matchAll(regExp)]\n        .map(item => item[1])\n        .forEach(item => collector.add(item));\n}\nexport function applyTemplateValues(document, values) {\n    const replacements = {};\n    values.forEach(item => {\n        replacements[\"${{\" + item.name + \"}}\"] = item.value;\n    });\n    const title = replacements[\"${{\" + TITLE_PLACEHOLDER + \"}}\"];\n    const description = replaceAll(document.description, replacements);\n    const properties = {};\n    for (const [key, values] of Object.entries(document.properties)) {\n        properties[key] = values.map(value => replaceAll(value, replacements));\n    }\n    const items = [];\n    for (const item of document.items) {\n        items.push({\n            ...item,\n            \"text\": replaceAll(item.text, replacements),\n        });\n    }\n    return {\n        ...document,\n        title,\n        description,\n        properties,\n        items,\n    };\n}\nfunction replaceAll(value, replacements) {\n    let result = value;\n    for (const [source, target] of Object.entries(replacements)) {\n        result = result.replaceAll(source, target);\n    }\n    return result;\n}\n","import { PredicateEditType, } from \"./model\";\nimport { createEmptyTemplate, createQuickNoteTemplate, } from \"./template\";\nimport { getCoreCodelistItem, getCoreLabel, getCorePredicate, DOCUMENT_TEMPLATE, } from \"./predefined\";\nconst RDFS_PROPERTY = \"http://www.w3.org/2000/01/rdf-schema#Property\";\nconst RDFS_HAS_DOMAIN = \"http://www.w3.org/2000/01/rdf-schema#domain\";\nconst RDFS_HAS_IN_SCHEME = \"http://www.w3.org/2004/02/skos/core#inScheme\";\nconst LIST_COLOR = \"https://skodapetr.github.io/knoma/vocabulary#listColor\";\nconst LIST_PRIORITY = \"https://skodapetr.github.io/knoma/vocabulary#listPriority\";\n/**\n * Base class for a simple database. Use document list fetched from server.\n */\nexport class SimpleDatabase {\n    documents = [];\n    async getDocuments() {\n        await this.refreshDocuments();\n        return this.documents;\n    }\n    async getTemplateDocuments() {\n        await this.refreshDocuments();\n        const userDocuments = await Promise.all(this.documents\n            .filter(isTemplateDocument)\n            .map(item => this.getDocument(item.iri)));\n        return [\n            createEmptyTemplate(),\n            createQuickNoteTemplate(),\n            ...userDocuments,\n        ];\n    }\n    async getPredicates() {\n        await this.refreshDocuments();\n        const result = [...getCorePredicate()];\n        for (const document of this.documents) {\n            if (document.types.includes(RDFS_PROPERTY)) {\n                result.push(documentToPredicate(document));\n            }\n        }\n        return result;\n    }\n    async getPredicate(iri) {\n        const predicates = await this.getPredicates();\n        for (const predicate of predicates) {\n            if (predicate.iri === iri) {\n                return predicate;\n            }\n        }\n        return undefined;\n    }\n    async getCodelist(types) {\n        await this.refreshDocuments();\n        const result = new Set();\n        // Add core items.\n        for (const type of types) {\n            for (const item of getCoreCodelistItem(type)) {\n                result.add(item);\n            }\n        }\n        // Add documents of required type.\n        for (const document of this.documents) {\n            const inSchema = document.properties[RDFS_HAS_IN_SCHEME] || [];\n            // We can add items if they are of given class or are part of a codelist.\n            if (isIntersecting(inSchema, types)) {\n                result.add(document.iri);\n            }\n            else if (isIntersecting(document.types, types)) {\n                result.add(document.iri);\n            }\n        }\n        return [...result];\n    }\n    async getLabel(iri) {\n        const label = getCoreLabel(iri);\n        if (label !== undefined) {\n            return label;\n        }\n        for (const document of this.documents) {\n            if (document.iri === iri) {\n                return document.title;\n            }\n        }\n        return iri;\n    }\n}\nfunction isIntersecting(left, right) {\n    for (const leftItem of left) {\n        if (right.includes(leftItem)) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction documentToPredicate(document) {\n    const codelist = document.properties[RDFS_HAS_DOMAIN];\n    const listColour = document.properties[LIST_COLOR];\n    const listPriority = document.properties[LIST_PRIORITY];\n    return {\n        \"iri\": document.iri,\n        \"label\": document.title,\n        \"multiple\": true,\n        \"type\": codelist === undefined ?\n            PredicateEditType.String : PredicateEditType.Codelist,\n        \"codelist\": codelist || [],\n        \"domain\": undefined,\n        \"listColour\": listColour?.[0],\n        \"listPriority\": parseInt(listPriority?.[0] ?? \"0\"),\n    };\n}\nfunction isTemplateDocument(document) {\n    return document.types.includes(DOCUMENT_TEMPLATE);\n}\n","import axios from \"axios\";\nimport { SimpleDatabase } from \"./database-simple\";\n/**\n * Use API to fetch list of documents and work with documents. The list of\n * documents (index) is fetched on the client side.\n */\nclass HttpDatabase extends SimpleDatabase {\n    documentsAreDirty = true;\n    getDatabaseLabel() {\n        return \"HTTP Based\";\n    }\n    async refreshDocuments() {\n        if (this.documentsAreDirty) {\n            const response = await axios.get(\"api/v1/documents\");\n            this.documents = response.data;\n            this.documentsAreDirty = false;\n        }\n    }\n    async getDocument(iri) {\n        const url = \"api/v1/documents?iri=\" + encodeURIComponent(iri);\n        const response = await axios.get(url);\n        return response.data;\n    }\n    async storeDocument(document) {\n        const url = \"api/v1/documents?iri=\" + encodeURIComponent(document.iri);\n        await axios.post(url, document);\n        this.documentsAreDirty = true;\n    }\n    async deleteDocument(iri) {\n        const url = \"api/v1/documents?iri=\" + encodeURIComponent(iri);\n        await axios.delete(url);\n        this.documentsAreDirty = true;\n    }\n}\nexport function createHttpDatabase() {\n    return new HttpDatabase();\n}\n","import { SimpleDatabase } from \"./database-simple\";\nconst LIST_IDENTIFIER = \"documents-list\";\n/**\n * Client side implementation of database using localStorage. This\n * is limited in size.\n */\nclass LocalStorageDatabase extends SimpleDatabase {\n    getDatabaseLabel() {\n        return \"Local Storage\";\n    }\n    async deleteDocument(iri) {\n        localStorage.removeItem(iri);\n        // Update documents.\n        const index = this.findDocument(iri);\n        if (index === undefined) {\n            return;\n        }\n        this.documents.splice(index, 1);\n        this.saveDocuments();\n    }\n    findDocument(iri) {\n        for (let index = 0; index < this.documents.length; ++index) {\n            const document = this.documents[index];\n            if (document.iri === iri) {\n                return index;\n            }\n        }\n        return undefined;\n    }\n    saveDocuments() {\n        const content = JSON.stringify(this.documents);\n        localStorage.setItem(LIST_IDENTIFIER, content);\n    }\n    async getDocument(iri) {\n        const contentAsString = localStorage.getItem(iri);\n        if (contentAsString === null) {\n            return undefined;\n        }\n        return JSON.parse(contentAsString);\n    }\n    async refreshDocuments() {\n        // We only load data for the first time, else we have\n        // actual version in memory.\n        if (this.documents.length > 0) {\n            return;\n        }\n        const contentAsString = localStorage.getItem(LIST_IDENTIFIER);\n        if (contentAsString === null) {\n            return;\n        }\n        this.documents = JSON.parse(contentAsString);\n    }\n    async storeDocument(document) {\n        const content = JSON.stringify(document);\n        localStorage.setItem(document.iri, content);\n        // Update documents.\n        const newDocument = {\n            \"iri\": document.iri,\n            \"identifier\": document.identifier,\n            \"types\": document.types,\n            \"title\": document.title,\n            \"description\": document.description,\n            \"created\": document.created,\n            \"properties\": document.properties,\n        };\n        const index = this.findDocument(document.iri);\n        if (index === undefined) {\n            this.documents = [newDocument, ...this.documents];\n        }\n        else {\n            this.documents[index] = newDocument;\n        }\n        this.saveDocuments();\n    }\n}\nexport function createLocalStorageDatabase() {\n    const result = new LocalStorageDatabase();\n    if (isFirstLoad()) {\n        addDemoContent(result);\n    }\n    return result;\n}\nfunction isFirstLoad() {\n    return localStorage.getItem(LIST_IDENTIFIER) === null;\n}\nfunction addDemoContent(database) {\n    const now = new Date().toISOString().substr(0, 10);\n    database.storeDocument({\n        \"iri\": \"http://example.com/document/001\",\n        \"identifier\": \"001\",\n        \"created\": now,\n        \"title\": \"Click me!\",\n        \"description\": \"Welcome to Knowledge Manager.\",\n        \"types\": [],\n        \"properties\": {\n            \"https://skodapetr.github.io/knoma/vocabulary#author\": [\n                \"Petr Škoda\",\n            ],\n        },\n        \"items\": [\n            {\n                \"identifier\": \"001\",\n                \"types\": [],\n                \"properties\": {},\n                \"created\": now,\n                \"text\": \"There might be a tutorial one day ... \",\n                \"image\": undefined,\n            },\n            {\n                \"identifier\": \"002\",\n                \"types\": [],\n                \"properties\": {},\n                \"created\": now,\n                \"text\": \"This instance is using your local storage to store data.\",\n                \"image\": undefined,\n            },\n        ],\n    });\n}\n","import { getConfiguration } from \"../application/configuration\";\nexport function createEmptyDocument() {\n    return createDocument({\n        \"iri\": \"\",\n        \"identifier\": \"\",\n        \"types\": [],\n        \"title\": \"\",\n        \"description\": \"\",\n        \"created\": \"\",\n        \"properties\": {},\n        \"items\": [],\n    });\n}\nexport function createDocument(template) {\n    const configuration = getConfiguration();\n    const identifier = createIdentifier();\n    return {\n        ...template,\n        \"iri\": configuration.domain + identifier,\n        \"identifier\": identifier,\n        \"created\": new Date().toISOString().substring(0, 10),\n    };\n}\nfunction createIdentifier() {\n    const time = new Date().getTime();\n    return time + \"-xxxx-yxxx\".replace(/[xy]/g, function (c) {\n        const r = Math.random() * 16 | 0, v = c == \"x\" ? r : (r & 0x3 | 0x8);\n        return v.toString(16);\n    });\n}\nexport function createNote(identifier, text, types = []) {\n    return {\n        \"identifier\": identifier,\n        \"types\": types,\n        \"properties\": {},\n        \"created\": new Date().toISOString().substring(0, 10),\n        \"text\": text,\n        \"image\": undefined,\n    };\n}\n","import { DatabaseType, getConfiguration } from \"../application/configuration\";\nimport { createHttpDatabase } from \"./database-http\";\nimport { createLocalStorageDatabase } from \"./database-local-storage\";\nexport * from \"./database-api\";\nexport * from \"./model\";\nexport * from \"./model-factory\";\nconst database = createDatabase();\nfunction createDatabase() {\n    const configuration = getConfiguration();\n    switch (configuration.database) {\n        case DatabaseType.HTTP:\n            return createHttpDatabase();\n        case DatabaseType.LOCAL_STORAGE:\n            return createLocalStorageDatabase();\n        default:\n            return createLocalStorageDatabase();\n    }\n}\nexport function getDatabase() {\n    return database;\n}\n","import { render } from \"./about-instance.vue?vue&type=template&id=b20b4fbe\"\nimport script from \"./about-instance.vue?vue&type=script&lang=js\"\nexport * from \"./about-instance.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <section>\n    <h2>Keyboard</h2>\n    <dl>\n      <dt>ctrl + s</dt>\n      <dd>In document detail, save current document.</dd>\n      <dt>alt + a</dt>\n      <dd>In document detail, append new note.</dd>\n      <dt>alt + up</dt>\n      <dd>In note text area, focus previous note.</dd>\n      <dt>alt + down</dt>\n      <dd>In note text area, focus next note.</dd>\n      <dt>alt + q</dt>\n      <dd>In note text area, toggle quote switch.</dd>\n    </dl>\n  </section>\n</template>\n\n<script>\nexport default {\n  \"name\": \"AboutKeyboard\",\n};\n</script>","import { render } from \"./about-keyboard.vue?vue&type=template&id=6f3c1622\"\nimport script from \"./about-keyboard.vue?vue&type=script&lang=js\"\nexport * from \"./about-keyboard.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <section>\n    <h2>Predicates</h2>\n    <dl>\n      <dt>In scheme</dt>\n      <dd>Part of a given scheme/codelist.</dd>\n      <dt>URL</dt>\n      <dd />\n      <dt>DOI</dt>\n      <dd />\n      <dt>Published</dt>\n      <dd>Time when the document were published/created.</dd>\n      <dt>Reference</dt>\n      <dd>Can be used to connect notes together.</dd>\n    </dl>\n  </section>\n</template>\n\n<script>\nexport default {\n  \"name\": \"AboutPredicates\",\n};\n</script>\n","import { render } from \"./about-predicates.vue?vue&type=template&id=33e6275d\"\nimport script from \"./about-predicates.vue?vue&type=script&lang=js\"\nexport * from \"./about-predicates.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <section>\n    <h2>Content language</h2>\n    <ul>\n      <li>\n        Link with given <em>name</em> and <em>URL</em>.<br>\n        <code>[{name}}]({URL}})</code><br>\n        There are some specific domains that can be used:\n        <ul>\n          <li>\n            <code>doi://</code> - Reference to a document with DOI.\n          </li>\n          <li>\n            <code>cite://</code> - Reference to a citation inside a document.\n          </li>\n        </ul>\n      </li>\n      <li>\n        Highlight given word as important.<br>\n        <code>**Keyword**</code>\n      </li>\n      <li>\n        Code without any other specification.<br>\n        <code>```code```</code>\n      </li>\n      <li>\n        Code of given <em>{type}</em>:\n        <pre><code>```{type}\n...\n```</code></pre>\n        You can use <code>```Quote...</code> to mark a quote from the source\n        document. Alternatively you can mark whole note as a quote.\n      </li>\n      <li>\n        Item list:\n        <pre><code>* Item\n* Item\n* Item</code></pre>\n      </li>\n    </ul>\n  </section>\n</template>\n\n<script>\nexport default {\n  \"name\": \"AboutText\",\n};\n</script>\n","import { render } from \"./about-text.vue?vue&type=template&id=71f01572\"\nimport script from \"./about-text.vue?vue&type=script&lang=js\"\nexport * from \"./about-text.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <section>\n    <h2>Types</h2>\n    <dl>\n      <dt>Concept Scheme</dt>\n      <dd>A concept lists that can be used as values in codelists.</dd>\n      <dt>Concept</dt>\n      <dd>Member of concept scheme.</dd>\n      <dt>Property</dt>\n      <dd>This document can be used as a property.</dd>\n      <dt>Class</dt>\n      <dd>This document can be used as a class/type for other documents.</dd>\n      <dt>Template</dt>\n      <dd>This document can be used as a template for new documents.</dd>\n    </dl>\n  </section>\n</template>\n\n<script>\nexport default {\n  \"name\": \"AboutTypes\",\n};\n</script>\n","<template>\n  <v-container>\n    <v-tabs\n      v-model=\"tab\"\n      grow\n    >\n      <v-tab>Instance</v-tab>\n      <v-tab>Keyboard</v-tab>\n      <v-tab>Types</v-tab>\n      <v-tab>Predicates</v-tab>\n      <v-tab>Text</v-tab>\n    </v-tabs>\n    <v-window\n      v-model=\"tab\"\n      style=\"padding: 2rem;\"\n    >\n      <v-window-item>\n        <app-instance />\n      </v-window-item>\n      <v-window-item>\n        <app-keyboard />\n      </v-window-item>\n      <v-window-item>\n        <app-types />\n      </v-window-item>\n      <v-window-item>\n        <app-predicates />\n      </v-window-item>\n      <v-window-item>\n        <app-text />\n      </v-window-item>\n    </v-window>\n  </v-container>\n</template>\n\n<script>\nimport AboutInstance from \"./about-instance\";\nimport AboutKeyboard from \"./about-keyboard\";\nimport AboutPredicates from \"./about-predicates\";\nimport AboutText from \"./about-text\";\nimport AboutTypes from \"./about-types\";\n\n/**\n * About page, holds information about application configuration\n * and documentation.\n */\nexport default {\n  \"name\": \"AboutView\",\n  \"components\": {\n    \"app-instance\": AboutInstance,\n    \"app-keyboard\": AboutKeyboard,\n    \"app-predicates\": AboutPredicates,\n    \"app-text\": AboutText,\n    \"app-types\": AboutTypes,\n  },\n  \"data\": () => ({\n    /**\n     * Index of selected tab.\n     */\n    \"tab\": 0,\n  }),\n};\n</script>\n","import { render } from \"./about-types.vue?vue&type=template&id=8e59c850\"\nimport script from \"./about-types.vue?vue&type=script&lang=js\"\nexport * from \"./about-types.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./about.vue?vue&type=template&id=98572a22\"\nimport script from \"./about.vue?vue&type=script&lang=js\"\nexport * from \"./about.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <v-container class=\"pt-0\">\n    <app-header\n      v-model=\"document\"\n      @edit-properties=\"onOpenPropertiesDialog\"\n      @edit-type=\"onOpenTypeDialog\"\n      @save=\"onSave\"\n      @close=\"onClose\"\n    />\n    <br>\n    <app-items\n      v-model=\"document.items\"\n      :document-iri=\"document.iri\"\n      @edit-properties=\"onOpenPropertiesDialog\"\n    />\n    <app-property-dialog\n      v-model=\"propertyDialog.data\"\n      :visible=\"propertyDialog.open\"\n      :types=\"propertyDialog.types\"\n      @save=\"onSavePropertiesDialog\"\n      @close=\"onClosePropertiesDialog\"\n    />\n    <app-codelist-dialog\n      v-model=\"typeDialog.data\"\n      :visible=\"typeDialog.open\"\n      :codelist=\"['http://www.w3.org/2000/01/rdf-schema#Class']\"\n      @save=\"onSaveTypeDialog\"\n      @close=\"onCloseTypeDialog\"\n    />\n    <v-layout class=\"mt-6\">\n      <v-btn\n        class=\"mr-4\"\n        @click=\"onSave\"\n      >\n        Save\n      </v-btn>\n      <v-btn @click=\"onClose\">\n        Close\n      </v-btn>\n    </v-layout>\n  </v-container>\n</template>\n\n<script>\nimport {nextTick} from \"vue\";\nimport Header from \"./document-detail-header\";\nimport Items from \"./document-detail-notes\";\nimport PropertyDialog from \"../components/properties-dialog\";\nimport CodelistDialog from \"../components/codelist-dialog\";\nimport {createEmptyDocument, getDatabase} from \"../database\";\nimport {\n  createNewNote,\n  focusNextNote,\n  focusPreviousNote,\n  getTextAreas,\n} from \"./document-detail-service\";\nimport {NOTE} from \"../database/predefined\";\n\nexport default {\n  \"name\": \"DocumentDetailView\",\n  \"components\": {\n    \"app-header\": Header,\n    \"app-items\": Items,\n    \"app-property-dialog\": PropertyDialog,\n    \"app-codelist-dialog\": CodelistDialog,\n  },\n  \"data\": () => ({\n    \"document\": createEmptyDocument(),\n    \"loading\": false,\n    \"propertyDialog\": {\n      \"open\": false,\n      \"owner\": undefined,\n      \"types\": [],\n      \"data\": {},\n    },\n    \"typeDialog\": {\n      \"open\": false,\n      \"owner\": undefined,\n      \"data\": [],\n    },\n  }),\n  \"mounted\": async function () {\n    window.document.addEventListener(\"keydown\", this.onKeyDown);\n    const iri = this.$route.query.document;\n    if (iri === undefined) {\n      return;\n    }\n    this.loading = true;\n    const document = await getDatabase().getDocument(iri);\n    if (document !== undefined) {\n      this.document = document;\n    }\n    this.loading = false;\n  },\n  \"unmounted\": function () {\n    window.document.removeEventListener(\"keydown\", this.onKeyDown);\n  },\n  \"methods\": {\n    \"onKeyDown\": function (event) {\n      if (event.ctrlKey && event.key === \"s\") {\n        this.onSave();\n        event.preventDefault();\n      } else if (event.altKey && event.key === \"a\") {\n        this.document.items = [\n          ...this.document.items,\n          createNewNote(this.document.iri, this.document.items),\n        ];\n        nextTick(() => {\n          getTextAreas().pop().focus();\n        });\n        event.preventDefault();\n      } else if (event.altKey && event.key === \"ArrowUp\") {\n        focusPreviousNote();\n        event.preventDefault();\n      } else if (event.altKey && event.key === \"ArrowDown\") {\n        focusNextNote();\n        event.preventDefault();\n      }\n    },\n    \"onOpenPropertiesDialog\": function (owner) {\n      this.propertyDialog = {\n        \"open\": true,\n        \"owner\": owner,\n        // The note has no types, se we substitute with note type here.\n        \"types\": owner?.types ?? [NOTE],\n        \"data\": cloneProperties(owner.properties),\n      };\n    },\n    \"onClosePropertiesDialog\": function () {\n      this.propertyDialog.open = false;\n    },\n    \"onSavePropertiesDialog\": function () {\n      this.propertyDialog.owner.properties = this.propertyDialog.data;\n      this.propertyDialog.open = false;\n    },\n    \"onOpenTypeDialog\": function (owner) {\n      this.typeDialog = {\n        \"open\": true,\n        \"owner\": owner,\n        // Clone data to not modify them in place.\n        \"data\": [...owner.types],\n      };\n    },\n    \"onSaveTypeDialog\": function () {\n      this.typeDialog.owner.types = this.typeDialog.data;\n      this.typeDialog.open = false;\n    },\n    \"onCloseTypeDialog\": function () {\n      this.typeDialog.open = false;\n    },\n    \"onSave\": async function () {\n      this.loading = true;\n      try {\n        await getDatabase().storeDocument(this.document);\n        this.$notify({\n          \"title\": \"Document saved.\",\n          \"type\": \"success\",\n        });\n      } catch (ex) {\n        this.$notify({\n          \"title\": \"Can't save data.\",\n          \"type\": \"error\",\n        });\n        throw ex;\n      }\n      this.loading = false;\n    },\n    \"onClose\": function () {\n      this.$router.push({\n        \"name\": \"documents\",\n      });\n    },\n  },\n};\n\nfunction cloneProperties(source) {\n  const result = {};\n  for (const [key, value] of Object.entries(source)) {\n    if (Array.isArray(value)) {\n      result[key] = [...value];\n    } else if (typeof value === \"object\") {\n      result[key] = {...value};\n    } else {\n      result[key] = value;\n    }\n  }\n  return result;\n}\n\n</script>\n","<template>\n  <div>\n    <div>\n      <v-btn\n        icon=\"mdi-share-variant\"\n        size=\"small\"\n        variant=\"text\"\n        class=\"ml-2 mr-4\"\n        @click=\"onCopyIri\"\n      />\n      <v-btn\n        icon=\"mdi-pencil\"\n        size=\"small\"\n        variant=\"text\"\n        class=\"mr-4\"\n        @click=\"onEditProperties(modelValue)\"\n      />\n      <app-types\n        :value=\"modelValue\"\n        @input=\"onEditType\"\n      />\n    </div>\n    <v-text-field\n      :model-value=\"modelValue.title\"\n      label=\"Title *\"\n      required\n      @update:model-value=\"onChangeTitle\"\n    />\n    <v-textarea\n      :model-value=\"modelValue.description\"\n      auto-grow\n      clearable\n      clear-icon=\"mdi-close-circle\"\n      rows=\"1\"\n      label=\"Description\"\n      @update:model-value=\"onChangeDescription\"\n    />\n    <div class=\"outer\">\n      Properties:\n      <app-properties-preview :value=\"modelValue\" />\n    </div>\n    <v-layout>\n      <v-btn\n        class=\"mr-4\"\n        @click=\"onSave\"\n      >\n        Save\n      </v-btn>\n      <v-btn @click=\"onClose\">\n        Close\n      </v-btn>\n    </v-layout>\n  </div>\n</template>\n\n<script>\nimport TypeLine from \"./type-line\";\nimport PropertiesPreview from \"../components/properties-preview\";\n\nexport default {\n  \"name\": \"DocumentDetailHeader\",\n  \"components\": {\n    \"app-types\": TypeLine,\n    \"app-properties-preview\": PropertiesPreview,\n  },\n  \"props\": {\n    \"modelValue\": {\"type\": Object, \"required\": true},\n  },\n  \"emits\": [\n    \"update:model-value\",\n    /**\n     * Change document type.\n     */\n    \"edit-type\",\n    /**\n     * Change document properties.\n     */\n    \"edit-properties\",\n    /**\n     * Save document.\n    */\n    \"save\",\n    /**\n     * Close document.\n     */\n    \"close\",\n  ],\n  \"methods\": {\n    \"onCopyIri\": function () {\n      navigator.clipboard.writeText(this.modelValue.iri);\n    },\n    \"onChangeTitle\": function (value) {\n      this.$emit(\"update:model-value\", {\n        ...this.modelValue,\n        \"title\": value,\n      });\n    },\n    \"onChangeDescription\": function (value) {\n      this.$emit(\"update:model-value\", {\n        ...this.modelValue,\n        \"description\": value,\n      });\n    },\n    \"onEditType\": function(owner) {\n      this.$emit(\"edit-type\", owner);\n    },\n    \"onEditProperties\": function() {\n      this.$emit(\"edit-properties\", this.modelValue);\n    },\n    \"onSave\": function () {\n      this.$emit(\"save\");\n    },\n    \"onClose\": function () {\n      this.$emit(\"close\");\n    },\n  },\n};\n</script>\n\n<style scoped>\n.outer {\n  border-bottom: 1px solid gray;\n  padding-bottom: 0.5rem;\n  margin-bottom: 0.5rem;\n  padding-top: 0;\n}\n</style>\n","<template>\n  <span>\n    <v-chip\n      v-for=\"tag in tags\"\n      :key=\"tag.iri\"\n      :size=\"size\"\n      class=\"ma-1\"\n      @click=\"onClick\"\n    >\n      {{ tag.label }}\n    </v-chip>\n  </span>\n</template>\n\n<script>\nimport {getDatabase} from \"../database\";\n\nexport default {\n  \"name\": \"TagLine\",\n  \"props\": {\n    \"value\": {\"type\": Array, \"required\": true},\n    \"size\": {\"type\": String, \"default\": \"default\"},\n  },\n  \"emits\": [\n    /**\n     * User clicked on a tag.\n     */\n    \"click\",\n  ],\n  \"data\": () => ({\n    \"tags\": [],\n  }),\n  \"watch\": {\n    \"value\": function () {\n      this.computeTags();\n    },\n  },\n  \"mounted\": function () {\n    this.computeTags();\n  },\n  \"methods\": {\n    \"computeTags\": async function () {\n      const result = [];\n      const database = getDatabase();\n      for (const iri of this.value) {\n        result.push({\n          \"iri\": iri,\n          \"label\": await database.getLabel(iri),\n        });\n      }\n      this.tags = result;\n    },\n    \"onClick\": function () {\n      this.$emit(\"click\");\n    },\n  },\n};\n</script>","import { render } from \"./tag-line.vue?vue&type=template&id=60ed3f94\"\nimport script from \"./tag-line.vue?vue&type=script&lang=js\"\nexport * from \"./tag-line.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <span>\n    <app-tags\n      :value=\"value.types\"\n      @click=\"onEditType\"\n    />\n    <v-btn\n      v-show=\"value.types.length === 0\"\n      size=\"small\"\n      variant=\"text\"\n      icon=\"mdi-plus\"\n      @click=\"onEditType\"\n    />\n  </span>\n</template>\n\n<script>\nimport TagLine from \"../components/tag-line\";\n\nexport default {\n  \"name\": \"TypeLine\",\n  \"components\": {\n    \"app-tags\": TagLine,\n  },\n  \"props\": {\n    \"value\": {\"type\": Object, \"required\": true},\n  },\n  \"emits\": [\n    \"input\",\n  ],\n  \"methods\": {\n    \"onEditType\": function () {\n      this.$emit(\"input\", this.value);\n    },\n  },\n};\n</script>","import { render } from \"./type-line.vue?vue&type=template&id=44ef54cb\"\nimport script from \"./type-line.vue?vue&type=script&lang=js\"\nexport * from \"./type-line.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div>\n    <dl\n      v-for=\"predicate of content\"\n      :key=\"predicate.iri\"\n    >\n      <dt>{{ predicate.label }}:</dt>\n      <dd\n        v-for=\"(item, index) in predicate.items\"\n        :key=\"index\"\n      >\n        {{ item }}\n      </dd>\n    </dl>\n  </div>\n</template>\n\n<script>\nimport {getDatabase} from \"../database\";\n\nexport default {\n  \"name\": \"PropertiesPreview\",\n  \"props\": {\n    \"value\": {\"type\": Object, \"required\": true},\n  },\n  \"data\": () => ({\n    \"loading\": false,\n    \"content\": [],\n  }),\n  \"watch\": {\n    \"value.properties\": async function (nextProperties) {\n      await this.updateProperties(nextProperties);\n    },\n  },\n  \"mounted\": async function () {\n    await this.updateProperties(this.value.properties);\n  },\n  \"methods\": {\n    \"updateProperties\": async function(properties) {\n      const database = getDatabase();\n      const result = [];\n      for (const [predicateIri, items] of Object.entries(properties)) {\n        const predicate = await database.getPredicate(predicateIri);\n        const itemsToShow = await predicateToValues(database, predicate, items);\n        result.push({\n          \"iri\": predicateIri,\n          \"label\": predicate.label,\n          \"items\": itemsToShow,\n        });\n      }\n      result.sort((left, right) => left.label.localeCompare(right.label));\n      this.content = result;\n    },\n  },\n};\n\nasync function predicateToValues(database, predicate, values) {\n  let result = [];\n  switch (predicate.type) {\n    case \"codelist\":\n      for (const item of values) {\n        result.push(await database.getLabel(item));\n      }\n      break;\n    default:\n      result = values;\n      break;\n  }\n  return result;\n}\n\n</script>\n\n<style scoped>\ndl {\n  display: flex;\n  flex-wrap: wrap;\n  margin-left: 1rem;\n}\ndl dd {\n  margin-left: 1rem;\n}\ndl dd:after {\n  content: \",\";\n}\ndl dd:last-child:after {\n  content: \"\";\n}\n</style>\n","import { render } from \"./properties-preview.vue?vue&type=template&id=a3e9327a&scoped=true\"\nimport script from \"./properties-preview.vue?vue&type=script&lang=js\"\nexport * from \"./properties-preview.vue?vue&type=script&lang=js\"\n\nimport \"./properties-preview.vue?vue&type=style&index=0&id=a3e9327a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-a3e9327a\"]])\n\nexport default __exports__","import { render } from \"./document-detail-header.vue?vue&type=template&id=f12837fa&scoped=true\"\nimport script from \"./document-detail-header.vue?vue&type=script&lang=js\"\nexport * from \"./document-detail-header.vue?vue&type=script&lang=js\"\n\nimport \"./document-detail-header.vue?vue&type=style&index=0&id=f12837fa&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-f12837fa\"]])\n\nexport default __exports__","<template>\n  <!--\n    We can not use v-list here.\n    The v-list capture arrows, Home, End and use them to navigate the list.\n    We do not need this as we need to capture the keys on your own.\n   -->\n  <div class=\"v-list\">\n    <v-list-item\n      v-for=\"(item, index) in modelValue\"\n      :key=\"item.iri\"\n    >\n      <app-item\n        :document-iri=\"documentIri\"\n        :value=\"item\"\n        @input=\"(v) => onChange(index, v)\"\n        @add=\"() => onInsert(index)\"\n        @delete=\"() => onDelete(index)\"\n        @edit-properties=\"onEditProperties\"\n      />\n    </v-list-item>\n    <v-list-item>\n      <v-btn\n        icon=\"mdi-plus\"\n        color=\"green\"\n        variant=\"text\"\n        @click=\"onAppend()\"\n      />\n    </v-list-item>\n  </div>\n</template>\n\n<script>\nimport NoteItemEdit from \"./note-edit\";\nimport {createNewNote} from \"./document-detail-service\";\n\nexport default {\n  \"name\": \"DocumentDetailNotes\",\n  \"components\": {\n    \"app-item\": NoteItemEdit,\n  },\n  \"props\": {\n    \"documentIri\": {\"type\": String, \"required\": true},\n    \"modelValue\": {\"type\": Array, \"required\": true},\n  },\n  \"emits\": [\n    \"update:model-value\",\n    /**\n     * Change note properties.\n     */\n    \"edit-properties\",\n  ],\n  \"methods\": {\n    \"onChange\": function (index, value) {\n      this.$emit(\"update:model-value\", [\n        ...this.modelValue.slice(0, index),\n        value,\n        ...this.modelValue.slice(index + 1),\n      ]);\n    },\n    \"onInsert\": function (index) {\n      this.$emit(\"update:model-value\", [\n        ...this.modelValue.slice(0, index + 1),\n        createNewNote(this.iri, this.modelValue),\n        ...this.modelValue.slice(index + 1),\n      ]);\n    },\n    \"onDelete\": function (index) {\n      this.$emit(\"update:model-value\", [\n        ...this.modelValue.slice(0, index),\n        ...this.modelValue.slice(index + 1),\n      ]);\n    },\n    \"onAppend\": function () {\n      this.$emit(\"update:model-value\", [\n        ...this.modelValue,\n        createNewNote(this.iri, this.modelValue),\n      ]);\n    },\n    \"onEditProperties\": function(owner) {\n      this.$emit(\"edit-properties\", owner);\n    },\n  },\n};\n\n</script>\n","<template>\n  <v-card\n    class=\"mx-2\"\n    width=\"100%\"\n  >\n    <v-card-title class=\"py-0 flex\">\n      <v-btn\n        icon=\"mdi-share-variant\"\n        size=\"small\"\n        class=\"ml-2 mr-4\"\n        @click=\"onCopyIri\"\n      />\n      <v-btn\n        icon=\"mdi-pencil\"\n        size=\"small\"\n        class=\"mr-4\"\n        @click=\"onEditProperties(value)\"\n      />\n      <v-switch\n        :model-value=\"isQuote\"\n        color=\"indigo\"\n        label=\"Quote\"\n        density=\"compact\"\n        @update:model-value=\"onToggleQuote\"\n      />\n      <v-spacer />\n      <v-btn\n        icon=\"mdi-minus\"\n        size=\"small\"\n        variant=\"text\"\n        color=\"red\"\n        class=\"mr-4\"\n        @click=\"onDelete\"\n      />\n      <v-btn\n        icon=\"mdi-plus\"\n        size=\"small\"\n        variant=\"text\"\n        color=\"green\"\n        @click=\"onAdd()\"\n      />\n    </v-card-title>\n    <v-card-text>\n      <v-textarea\n        :model-value=\"value.text\"\n        class=\"note-content-input\"\n        auto-grow\n        clearable\n        clear-icon=\"mdi-close-circle\"\n        rows=\"1\"\n        label=\"Content\"\n        :hide-details=\"true\"\n        @update:model-value=\"onChangeContent\"\n        @paste=\"onPaste\"\n        @keydown=\"onKeyDown\"\n      />\n      <img\n        v-show=\"value.image && showImage\"\n        :src=\"value.image\"\n        style=\"border-style: ridge;background-color: wheat;width: 100%;\"\n      >\n    </v-card-text>\n    <v-card-actions v-show=\"value.image\">\n      <v-btn\n        @click=\"onToggleImage\"\n      >\n        Toggle Image\n      </v-btn>\n      <v-btn\n        v-show=\"showImage\"\n        @click=\"onClearImage\"\n      >\n        Clear Image\n      </v-btn>\n    </v-card-actions>\n  </v-card>\n</template>\n\n<script>\nimport {onToggleQuote} from \"./note-edit-service\";\nimport {QUOTE} from \"../database/predefined\";\n\nexport default {\n  \"name\": \"NoteEdit\",\n  \"props\": {\n    \"value\": {\"type\": Object, \"required\": true},\n    \"documentIri\": {\"type\": String, \"required\": true},\n  },\n  \"emits\": [\n    \"input\",\n    /**\n     * Delete note.\n     */\n    \"delete\",\n    /**\n     * Insert new note after this one.\n     */\n    \"add\",\n    /**\n     * Change note properties.\n     */\n    \"edit-properties\",\n  ],\n  \"data\": () => ({\n    \"showImage\": false,\n  }),\n  \"computed\": {\n    \"isQuote\": function() {\n      return (this.value.types ?? []).includes(QUOTE);\n    },\n  },\n  \"methods\": {\n    \"onCopyIri\": function () {\n      const iri = this.documentIri + \"/notes/\" + this.value.identifier;\n      navigator.clipboard.writeText(iri);\n    },\n    \"onChangeContent\": function (value) {\n      this.$emit(\"input\", {\n        ...this.value,\n        \"text\": value,\n      });\n    },\n    \"onClearImage\": function () {\n      this.$emit(\"input\", {\n        ...this.value,\n        \"image\": undefined,\n      });\n    },\n    \"onDelete\": function () {\n      this.$emit(\"delete\");\n    },\n    \"onAdd\": function () {\n      this.$emit(\"add\");\n    },\n    \"onKeyDown\": function (event) {\n      if (event.altKey && event.key === \"q\") {\n        this.onToggleQuote();\n        event.preventDefault();\n      }\n    },\n    \"onPaste\": function (event) {\n      for (const item of event.clipboardData.items) {\n        if (!item.type.includes(\"image\")) {\n          continue;\n        }\n        event.preventDefault();\n        const file = item.getAsFile();\n        const reader = new FileReader();\n        reader.onload = () => {\n          const imageInBase64 = reader.result;\n          this.$emit(\"input\", {\n            ...this.value,\n            \"image\": imageInBase64,\n          });\n        };\n        reader.readAsDataURL(file);\n        break;\n      }\n    },\n    \"onEditProperties\": function () {\n      this.$emit(\"edit-properties\", this.value);\n    },\n    \"onToggleImage\": function () {\n      this.showImage = !this.showImage;\n    },\n    \"onToggleQuote\": function () {\n      this.$emit(\"input\", onToggleQuote(this.value));\n    },\n  },\n};\n</script>\n\n<style scoped>\n.flex {\n  display: flex;\n}\n</style>\n","import { QUOTE } from \"../database/predefined\";\nexport function onToggleQuote(note) {\n    const prevTypes = note.types ?? [];\n    let nextTypes;\n    const index = prevTypes.indexOf(QUOTE);\n    if (index === -1) {\n        nextTypes = [...prevTypes, QUOTE];\n    }\n    else {\n        nextTypes = [\n            ...prevTypes.slice(0, index),\n            ...prevTypes.slice(index + 1),\n        ];\n    }\n    return {\n        ...note,\n        \"types\": nextTypes,\n    };\n}\n","import { createNote } from \"../database\";\nexport function createNewNote(iri, notes) {\n    const nextIndex = notes.map(note => Number(note.identifier))\n        .reduce((left, right) => Math.max(left, right), 0) + 1;\n    // Use types from last note.\n    let types = [];\n    if (notes.length > 0) {\n        types = [...notes[notes.length - 1].types];\n    }\n    return createNote(String(nextIndex).padStart(3, \"0\"), \"\", types);\n}\nexport function getTextAreas() {\n    const selector = \".note-content-input textarea:first-of-type\";\n    return [...window.document.querySelectorAll(selector)];\n}\nexport function focusPreviousNote() {\n    const nodes = getTextAreas();\n    const active = document.activeElement;\n    const index = nodes.indexOf(active);\n    if (index < 1 || index - 1 > nodes.length) {\n        return;\n    }\n    nodes[index - 1].focus();\n}\nexport function focusNextNote() {\n    const nodes = getTextAreas();\n    const active = document.activeElement;\n    const index = nodes.indexOf(active);\n    if (index === -1 || index + 1 >= nodes.length) {\n        return;\n    }\n    nodes[index + 1].focus();\n}\n","import { render } from \"./note-edit.vue?vue&type=template&id=088031f0&scoped=true\"\nimport script from \"./note-edit.vue?vue&type=script&lang=js\"\nexport * from \"./note-edit.vue?vue&type=script&lang=js\"\n\nimport \"./note-edit.vue?vue&type=style&index=0&id=088031f0&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-088031f0\"]])\n\nexport default __exports__","import { render } from \"./document-detail-notes.vue?vue&type=template&id=13c08b20\"\nimport script from \"./document-detail-notes.vue?vue&type=script&lang=js\"\nexport * from \"./document-detail-notes.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <v-list class=\"py-0\">\n    <v-list-subheader>\n      <v-btn\n        icon=\"mdi-minus\"\n        color=\"red\"\n        size=\"x-small\"\n        variant=\"text\"\n        @click=\"onDelete\"\n      />\n      {{ definition.label }}\n    </v-list-subheader>\n    <v-list-item\n      v-for=\"(content, index) in modelValue\"\n      :key=\"index\"\n    >\n      <div class=\"flex\">\n        <v-btn\n          v-if=\"definition.multiple\"\n          icon=\"mdi-plus\"\n          variant=\"text\"\n          size=\"small\"\n          @click=\"onAddValue(index)\"\n        />\n        <v-btn\n          v-if=\"definition.multiple\"\n          icon=\"mdi-minus\"\n          variant=\"text\"\n          size=\"small\"\n          @click=\"onDeleteValue(index)\"\n        />\n        <v-text-field\n          v-if=\"definition.type === 'date'\"\n          :model-value=\"content\"\n          type=\"date\"\n          density=\"compact\"\n          :hide-details=\"true\"\n          @update:model-value=\"(v) => onUpdateValue(index, v)\"\n        />\n        <v-text-field\n          v-if=\"definition.type === 'string'\"\n          :model-value=\"content\"\n          density=\"compact\"\n          :hide-details=\"true\"\n          @update:model-value=\"(v) => onUpdateValue(index, v)\"\n        />\n        <v-select\n          v-else-if=\"definition.type === 'codelist'\"\n          :model-value=\"content\"\n          :items=\"items\"\n          item-text=\"title\"\n          item-value=\"iri\"\n          density=\"compact\"\n          :hide-details=\"true\"\n          @update:model-value=\"(v) => onUpdateValue(index, v)\"\n        />\n      </div>\n    </v-list-item>\n    <v-list-item v-if=\"modelValue.length === 0\">\n      <v-btn\n        icon=\"mdi-plus\"\n        size=\"x-small\"\n        @click=\"onAddValue()\"\n      />\n    </v-list-item>\n  </v-list>\n</template>\n\n<script>\nimport {getDatabase} from \"../database\";\n\nexport default {\n  \"name\": \"PropertiesDialogItem\",\n  \"props\": {\n    \"predicate\": {\"type\": String, \"required\": true},\n    \"modelValue\": {\"type\": Array, \"required\": true},\n  },\n  \"emits\": [\n    \"update:model-value\",\n    /**\n     * Delete item.\n     */\n    \"delete\",\n  ],\n  \"data\": () => ({\n    \"definition\": {},\n    \"loading\": false,\n    \"items\": [],\n  }),\n  \"mounted\": async function () {\n    const database = getDatabase();\n    this.loading = true;\n    this.definition = (await database.getPredicate(this.predicate)) || {};\n    if (this.definition.type === \"codelist\") {\n      const iris = await database.getCodelist(this.definition.codelist);\n      const items = [];\n      for (const iri of iris) {\n        items.push({\n          \"iri\": iri,\n          \"title\": await database.getLabel(iri),\n        });\n      }\n      this.items = items;\n    }\n    this.loading = false;\n  },\n  \"methods\": {\n    \"onDelete\": function () {\n      this.$emit(\"delete\");\n    },\n    \"onAddValue\": function (index) {\n      this.$emit(\"update:model-value\", [\n        ...this.modelValue.slice(0, index + 1),\n        \"\",\n        ...this.modelValue.slice(index + 1),\n      ]);\n    },\n    \"onDeleteValue\": function (index) {\n      this.$emit(\"update:model-value\", [\n        ...this.modelValue.slice(0, index),\n        ...this.modelValue.slice(index + 1),\n      ]);\n    },\n    \"onUpdateValue\": function (index, value) {\n      this.$emit(\"update:model-value\", [\n        ...this.modelValue.slice(0, index),\n        value,\n        ...this.modelValue.slice(index + 1),\n      ]);\n    },\n  },\n};\n</script>\n\n<style scoped>\n.flex {\n  display: flex;\n}\n</style>\n","<template>\n  <v-combobox\n    ref=\"input\"\n    v-model=\"value\"\n    :loading=\"loading\"\n    :disabled=\"loading\"\n    :items=\"filteredItems\"\n    :label=\"label\"\n    class=\"px-4\"\n    item-value=\"iri\"\n    item-title=\"label\"\n    return-object\n    autofocus\n  />\n</template>\n\n<script>\nimport {nextTick} from \"vue\";\n\nimport {getDatabase} from \"../database\";\n\nexport default {\n  \"name\": \"PropertySelector\",\n  \"props\": {\n    \"label\": {\"type\": String, \"required\": true},\n    \"types\": {\"type\": Array, \"required\": false, \"default\": undefined},\n  },\n  \"emits\": [\n    /**\n     * Add new property.\n     */\n    \"add\",\n  ],\n  \"data\": () => ({\n    \"value\": \"\",\n    \"loading\": false,\n    \"items\": [],\n    \"filteredItems\": [],\n    \"search\": null,\n  }),\n  \"watch\": {\n    \"value\": function (newValue) {\n      if (typeof(newValue) !== \"object\") {\n        return;\n      }\n      this.$emit(\"add\", newValue);\n      // Reset to nothing selected.\n      nextTick(() => {\n        this.value = \"\";\n        this.$refs.input.blur();\n      });\n    },\n    \"types\": function (value) {\n      this.updateFilteredItems(value);\n    },\n  },\n  \"mounted\": async function () {\n    this.loading = true;\n    this.items = await getDatabase().getPredicates();\n    this.updateFilteredItems(this.types);\n    this.loading = false;\n  },\n  \"methods\": {\n    \"updateFilteredItems\": function (types) {\n      this.filteredItems = this.items\n        .filter(item => shouldBeUsed(item.domain, types));\n    },\n  },\n};\n\nfunction shouldBeUsed(domain, currentTypes) {\n  if (domain === undefined || domain.length === 0) {\n    return true;\n  }\n  if (currentTypes === undefined) {\n    return false;\n  }\n  for (const typeObject of currentTypes) {\n    if (domain.includes(typeObject)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n</script>\n","<template>\n  <v-dialog\n    :model-value=\"visible\"\n    fullscreen\n    hide-overlay\n    transition=\"dialog-bottom-transition\"\n    @keydown.esc=\"onClose\"\n  >\n    <v-card>\n      <v-toolbar\n        dark\n        color=\"primary\"\n      >\n        <v-btn\n          icon=\"mdi-check\"\n          @click=\"onSave\"\n        />\n        <v-toolbar-title>Edit Properties</v-toolbar-title>\n        <v-spacer />\n        <v-toolbar-items>\n          <v-btn\n            icon=\"mdi-close\"\n            @click=\"onClose\"\n          />\n        </v-toolbar-items>\n      </v-toolbar>\n      <v-list>\n        <v-list-item\n          v-for=\"entry in Object.entries(modelValue)\"\n          :key=\"entry[0]\"\n        >\n          <v-list-item-title>\n            <app-property-edit\n              :predicate=\"entry[0]\"\n              :model-value=\"entry[1]\"\n              @update:model-value=\"(v) => onChange(entry[0], v)\"\n              @delete=\"onDelete(entry[0])\"\n            />\n          </v-list-item-title>\n        </v-list-item>\n        <v-list-item>\n          <app-property-selector\n            label=\"Add new predicate\"\n            :types=\"types\"\n            @add=\"onAdd\"\n          />\n        </v-list-item>\n      </v-list>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\nimport PropertyEdit from \"./properties-dialog-item\";\nimport PropertySelector from \"../components/property-selector\";\n\nexport default {\n  \"name\": \"PropertiesDialog\",\n  \"components\": {\n    \"app-property-edit\": PropertyEdit,\n    \"app-property-selector\": PropertySelector,\n  },\n  \"props\": {\n    \"modelValue\": {\"type\": Object, \"required\": true},\n    \"visible\": {\"type\": Boolean, \"required\": true},\n    \"types\": {\"type\": Array, \"required\": true},\n  },\n  \"emits\": [\n    \"update:model-value\",\n    /**\n     * Close dialog.\n     */\n    \"close\",\n    /**\n     * Save and close the dialog.\n     */\n    \"save\",\n  ],\n  \"methods\": {\n    \"onChange\": function (key, value) {\n      this.$emit(\"update:model-value\", {\n        ...this.modelValue,\n        [key]: value,\n      });\n    },\n    \"onDelete\": function (key) {\n      const newValue = {...this.modelValue};\n      delete newValue[key];\n      this.$emit(\"update:model-value\", newValue);\n    },\n    \"onAdd\": function (predicate) {\n      if (this.modelValue[predicate.iri] !== undefined) {\n        return;\n      }\n      this.$emit(\"update:model-value\", {\n        ...this.modelValue,\n        [predicate.iri]: [\"\"],\n      });\n    },\n    \"onSave\": function() {\n      this.$emit(\"save\");\n    },\n    \"onClose\": function() {\n      this.$emit(\"close\");\n    },\n  },\n};\n</script>\n","import { render } from \"./properties-dialog-item.vue?vue&type=template&id=0b59a0ee&scoped=true\"\nimport script from \"./properties-dialog-item.vue?vue&type=script&lang=js\"\nexport * from \"./properties-dialog-item.vue?vue&type=script&lang=js\"\n\nimport \"./properties-dialog-item.vue?vue&type=style&index=0&id=0b59a0ee&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0b59a0ee\"]])\n\nexport default __exports__","import { render } from \"./property-selector.vue?vue&type=template&id=785d7b99\"\nimport script from \"./property-selector.vue?vue&type=script&lang=js\"\nexport * from \"./property-selector.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./properties-dialog.vue?vue&type=template&id=3661419f\"\nimport script from \"./properties-dialog.vue?vue&type=script&lang=js\"\nexport * from \"./properties-dialog.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <v-dialog\n    :model-value=\"visible\"\n    persistent\n    @keydown.esc=\"onClose\"\n  >\n    <v-card>\n      <v-card-title class=\"headline\">\n        Type\n      </v-card-title>\n      <v-card-text class=\"mt-4\">\n        <v-select\n          :model-value=\"modelValue\"\n          :items=\"items\"\n          item-title=\"title\"\n          item-value=\"iri\"\n          label=\"Type\"\n          :multiple=\"multiple\"\n          chips\n          @update:model-value=\"onChange\"\n        />\n      </v-card-text>\n      <v-divider />\n      <v-card-actions>\n        <v-btn\n          color=\"primary\"\n          text\n          @click=\"onSave\"\n        >\n          Save\n        </v-btn>\n        <v-btn\n          text\n          @click=\"onClose\"\n        >\n          Close\n        </v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\nimport {getDatabase} from \"../database\";\n\nexport default {\n  \"name\": \"CodelistDialog\",\n  \"props\": {\n    \"modelValue\": {\"type\": Array, \"required\": true},\n    /**\n     * Name of a codelist to select values from.\n     */\n    \"codelist\": {\"type\": Array, \"required\": true},\n    \"visible\": {\"type\": Boolean, \"required\": true},\n    \"multiple\": {\"type\": Boolean, \"default\": true},\n    \"refreshOnShow\": {\"type\": Boolean, \"default\": false},\n  },\n  \"emits\": [\n    \"update:model-value\",\n    /**\n     * Close dialog.\n     */\n    \"close\",\n    /**\n     * Save and close the dialog.\n     */\n    \"save\",\n  ],\n  \"data\": () => ({\n    \"items\": [],\n    \"loading\": false,\n  }),\n  \"watch\": {\n    \"visible\": async function (newVisibility) {\n      if (!newVisibility) {\n        // Hiding the dialog.\n        return;\n      }\n      console.log(\"onShow\", this.modelValue);\n      if (this.refreshOnShow) {\n        await this.reloadCodelistFromDatabase();\n      }\n    },\n  },\n  \"mounted\": async function() {\n    await this.reloadCodelistFromDatabase();\n  },\n  \"methods\": {\n    \"reloadCodelistFromDatabase\": async function() {\n      const database = getDatabase();\n      this.loading = true;\n      const iris = await database.getCodelist(this.codelist);\n      const tags = [];\n      for (const iri of iris) {\n        tags.push({\n          \"iri\": iri,\n          \"title\": await database.getLabel(iri),\n        });\n      }\n      this.items = tags;\n      this.loading = false;\n    },\n    \"onChange\": function (value) {\n      if (!this.multiple) {\n        // When used without multiple, value is string instead of an array.\n        value = [value];\n      }\n      console.log(\"onChange\", value);\n      this.$emit(\"update:model-value\", value);\n    },\n    \"onClose\": function () {\n      console.log(\"onClose\", this.modelValue);\n      this.$emit(\"close\");\n    },\n    \"onSave\": function () {\n      console.log(\"onSave\", this.modelValue);\n      this.$emit(\"save\", this.modelValue);\n    },\n  },\n};\n</script>\n","import { render } from \"./codelist-dialog.vue?vue&type=template&id=85c72708\"\nimport script from \"./codelist-dialog.vue?vue&type=script&lang=js\"\nexport * from \"./codelist-dialog.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./document-detail.vue?vue&type=template&id=241a712e\"\nimport script from \"./document-detail.vue?vue&type=script&lang=js\"\nexport * from \"./document-detail.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <v-container>\n    <app-filter\n      v-model=\"source.filters\"\n      @change=\"reload\"\n    />\n    <v-list class=\"item-list\">\n      <app-item\n        v-for=\"item in source.visibleDocuments\"\n        :key=\"item.iri\"\n        :value=\"item\"\n        @open=\"onOpen\"\n        @delete=\"onDelete\"\n      />\n      <v-divider />\n      <v-list-item>\n        <template v-if=\"source.visibleLimit < source.documents.length\">\n          <div>\n            Showing {{ source.visibleLimit }}\n            out of {{ source.documents.length }}\n            documents.\n          </div>\n          <v-btn\n            class=\"mt-2\"\n            @click=\"onShowMore\"\n          >\n            Show more\n          </v-btn>\n        </template>\n        <template v-else>\n          All of {{ source.documents.length }} documents are visible.\n        </template>\n      </v-list-item>\n    </v-list>\n    <div class=\"floating-menu\">\n      <v-btn\n        color=\"green darken-2\"\n        icon=\"mdi-plus\"\n        @click=\"onShowCreateDialog\"\n      />\n    </div>\n    <v-overlay :value=\"loading\">\n      <v-progress-circular\n        :size=\"50\"\n        color=\"primary\"\n        indeterminate\n      />\n    </v-overlay>\n    <app-create-document-dialog\n      :visible=\"showCreateDialog\"\n      @create=\"onCreateDocument\"\n      @close=\"onCloseCreateDialog\"\n    />\n  </v-container>\n</template>\n\n<script>\nimport {getDatabase} from \"../database\";\nimport Item from \"./document-list-item\";\nimport Filter from \"./document-filter\";\nimport {FilteredDocumentSource} from \"./filtered-document-source\";\nimport CreateDocumentDialog from \"./create-document-dialog\";\n\nexport default {\n  \"name\": \"DocumentListView\",\n  \"components\": {\n    \"app-item\": Item,\n    \"app-filter\": Filter,\n    \"app-create-document-dialog\": CreateDocumentDialog,\n  },\n  \"data\": () => ({\n    \"source\": new FilteredDocumentSource(),\n    \"loading\": false,\n    \"showCreateDialog\": false,\n  }),\n  \"mounted\": async function mounted() {\n    await this.reload();\n  },\n  \"methods\": {\n    \"onOpen\": function (event) {\n      const location = {\n        \"name\": \"document-edit\",\n        \"query\": {\n          \"document\": event.iri,\n        },\n      };\n      if (event.ctrlKey) {\n        const url = this.$router.resolve(location).href;\n        window.open(url, \"_blank\");\n      } else {\n        this.$router.push(location);\n      }\n    },\n    \"onDelete\": async function (iri) {\n      this.loading = true;\n      const database = getDatabase();\n      await database.deleteDocument(iri);\n      this.loading = false;\n      //\n      await this.reload();\n    },\n    \"onShowCreateDialog\": function () {\n      this.showCreateDialog = true;\n    },\n    \"onCreateDocument\": function(document) {\n      this.$router.push({\n        \"name\": \"document-edit\",\n        \"query\": {\n          \"document\": document.iri,\n        },\n      });\n    },\n    \"onCloseCreateDialog\": function() {\n      this.showCreateDialog = false;\n    },\n    \"reload\": async function() {\n      this.loading = true;\n      await this.source.refresh();\n      this.loading = false;\n    },\n    \"onShowMore\": function() {\n      this.source.showMore();\n    },\n  },\n};\n</script>\n\n<style scoped>\n\n.floating-menu {\n  position: fixed;\n  right: 1rem;\n  bottom: 1rem;\n}\n\n.item-list {\n  margin-bottom: 5rem;\n}\n</style>\n","<template>\n  <v-list-item @click=\"onOpen\">\n    <v-list-item-title>\n      {{ value.title || value.iri }}\n    </v-list-item-title>\n\n    <v-list-item-subtitle>\n      <app-tags\n        :value=\"value.types\"\n        size=\"small\"\n      />\n      <v-chip\n        v-for=\"(tag, index) in tags\"\n        :key=\"index\"\n        :color=\"tag.color\"\n        size=\"small\"\n        variant=\"outlined\"\n        class=\"ma-1\"\n      >\n        {{ tag.label }}\n      </v-chip>\n    </v-list-item-subtitle>\n\n    <template #append>\n      <v-btn\n        color=\"red\"\n        icon=\"mdi-delete\"\n        variant=\"text\"\n        @click.stop=\"onDelete\"\n      />\n    </template>\n  </v-list-item>\n</template>\n\n<script>\nimport TagLine from \"../components/tag-line\";\nimport {buildDocumentTagList} from \"./document-list-service\";\n\nexport default {\n  \"name\": \"DocumentListItem\",\n  \"components\": {\n    \"app-tags\": TagLine,\n  },\n  \"props\": {\n    \"value\": {\"type\": Object, \"required\": true},\n  },\n  \"emits\": [\n    /**\n     * Open this item.\n     */\n    \"open\",\n    /**\n     * Delete item.\n     */\n    \"delete\",\n  ],\n  \"data\": () => ({\n    \"tags\": [],\n  }),\n  \"mounted\": async function () {\n    await this.refresh();\n  },\n  \"methods\": {\n    \"onOpen\": function (event) {\n      this.$emit(\"open\", {\n        \"iri\": this.value.iri,\n        \"ctrlKey\": event.ctrlKey,\n      });\n    },\n    \"onDelete\": function () {\n      this.$emit(\"delete\", this.value.iri);\n    },\n    \"refresh\": async function () {\n      this.tags = await buildDocumentTagList(this.value);\n    },\n  },\n};\n</script>\n","import { getDatabase, PredicateEditType } from \"../database\";\nexport async function buildDocumentTagList(document) {\n    const database = getDatabase();\n    const result = [];\n    for (const iri of Object.keys(document.properties).sort()) {\n        const predicate = await database.getPredicate(iri);\n        if (predicate === undefined) {\n            continue;\n        }\n        const color = predicate.listColour;\n        if (color === undefined) {\n            continue;\n        }\n        const priority = predicate.listPriority ?? 0;\n        if (predicate.type === PredicateEditType.Codelist) {\n            for (const value of document.properties[iri]) {\n                const label = await database.getLabel(value);\n                result.push({\n                    \"label\": label,\n                    \"color\": color,\n                    \"priority\": priority,\n                });\n            }\n        }\n        else {\n            for (const label of document.properties[iri]) {\n                result.push({\n                    \"label\": label,\n                    \"color\": color,\n                    \"priority\": priority,\n                });\n            }\n        }\n    }\n    result.sort((left, right) => right.priority - left.priority);\n    return result;\n}\n","import { render } from \"./document-list-item.vue?vue&type=template&id=2b859db4\"\nimport script from \"./document-list-item.vue?vue&type=script&lang=js\"\nexport * from \"./document-list-item.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"pb-2\">\n    <v-text-field\n      label=\"Text search\"\n      :value=\"modelValue.search\"\n      @update:model-value=\"onSearchInput\"\n      @change=\"onChange\"\n    />\n    <app-type-filter\n      :value=\"modelValue\"\n      @input=\"onInput\"\n      @change=\"onChange\"\n    />\n    <app-property-filter\n      :value=\"modelValue\"\n      @input=\"onInput\"\n      @change=\"onChange\"\n    />\n  </div>\n</template>\n\n<script>\nimport TypeFilter from \"./type-filter\";\nimport PropertyFilter from \"./property-filter\";\n\nexport default {\n  \"name\": \"DocumentFilter\",\n  \"components\": {\n    \"app-type-filter\": TypeFilter,\n    \"app-property-filter\": PropertyFilter,\n  },\n  \"props\": {\n    \"modelValue\": {\"type\": Object, \"required\": true},\n  },\n  \"emits\": [\n    \"update:model-value\",\n    /**\n     * Input value has changed.\n     */\n    \"change\",\n  ],\n  \"methods\": {\n    \"onSearchInput\": function (value) {\n      this.$emit(\"update:model-value\", {\n        ...this.modelValue,\n        \"search\": value,\n      });\n      this.$emit(\"change\");\n    },\n    \"onChange\": function () {\n      this.$emit(\"change\");\n    },\n    \"onInput\": function(value) {\n      this.$emit(\"update:model-value\", value);\n    },\n  },\n};\n</script>","<template>\n  <div>\n    <div>\n      Types:\n      &nbsp;\n      <v-btn\n        icon=\"mdi-plus\"\n        size=\"x-small\"\n        @click=\"onAddInclude\"\n      />\n      &nbsp;\n      <v-btn\n        icon=\"mdi-minus\"\n        size=\"x-small\"\n        @click=\"onAddExclude\"\n      />\n    </div>\n    <div class=\"tag-line\">\n      <v-chip\n        v-for=\"(tag, index) in tags\"\n        :key=\"tag.iri\"\n        :color=\"tag.include ? 'green' : 'red'\"\n        size=\"small\"\n        class=\"mr-2\"\n        closable\n        @click:close=\"onRemoveType(index)\"\n      >\n        {{ tag.label }}\n      </v-chip>\n    </div>\n    <app-codelist-dialog\n      v-model=\"dialog.items\"\n      :visible=\"dialog.visible\"\n      :codelist=\"['http://www.w3.org/2000/01/rdf-schema#Class']\"\n      :multiple=\"false\"\n      @save=\"onSaveTypeDialog\"\n      @close=\"onCloseTypeDialog\"\n    />\n  </div>\n</template>\n\n<script>\nimport CodelistDialog from \"../components/codelist-dialog\";\nimport {getDatabase} from \"../database\";\n\nexport default {\n  \"name\": \"TypeFilter\",\n  \"components\": {\n    \"app-codelist-dialog\": CodelistDialog,\n  },\n  \"props\": {\n    \"value\": {\"type\": Object, \"required\": true},\n  },\n  \"emits\": [\n    \"input\",\n    /**\n     * Input value has changed.\n     */\n    \"change\",\n  ],\n  \"data\": () => ({\n    \"dialog\": {\n      \"items\": [],\n      \"visible\": false,\n      \"include\": true,\n    },\n    \"tags\": [],\n  }),\n  \"watch\": {\n    \"value.types\": function (oldValue, newValue) {\n      if (oldValue === newValue) {\n        return;\n      }\n      this.computeTags();\n    },\n  },\n  \"methods\": {\n    \"onAddInclude\": function () {\n      this.dialog.visible = true;\n      this.dialog.include = true;\n    },\n    \"onAddExclude\": function () {\n      this.dialog.visible = true;\n      this.dialog.include = false;\n    },\n    \"onSaveTypeDialog\": function (value) {\n      this.dialog.visible = false;\n      this.dialog.items = [];\n      if (value.length === 0) {\n        // No value.\n        return;\n      }\n      const iri = value[0];\n      // Check if the element is already in the list.\n      for (const index in this.value.types) {\n        const item = this.value.types[index];\n        if (item.iri !== iri) {\n          continue;\n        }\n        if (item.include === this.dialog.include) {\n          // Item is already stored.\n          return;\n        }\n        // Just update include and cancel.\n        this.$emit(\"input\", {\n          ...this.value,\n          \"types\": [\n            ...this.value.types.slice(0, index),\n            {\n              \"iri\": iri,\n              \"include\": this.dialog.include,\n            },\n            ...this.value.types.slice(index + 1),\n          ],\n        });\n        this.$emit(\"change\");\n        return;\n      }\n      // There is no such element.\n      this.$emit(\"input\", {\n        ...this.value,\n        \"types\": [\n          ...this.value.types,\n          {\n            \"iri\": iri,\n            \"include\": this.dialog.include,\n          },\n        ],\n      });\n      this.$emit(\"change\");\n    },\n    \"computeTags\": async function () {\n      const result = [];\n      const database = getDatabase();\n      for (const item of this.value.types) {\n        result.push({\n          \"iri\": item.iri,\n          \"label\": await database.getLabel(item.iri),\n          \"include\": item.include,\n        });\n      }\n      this.tags = result;\n    },\n    \"onCloseTypeDialog\": function () {\n      this.dialog.visible = false;\n      this.dialog.items = [];\n    },\n    \"onRemoveType\": function(index) {\n      this.$emit(\"input\", {\n        ...this.value,\n        \"types\": [\n          ...this.value.types.slice(0, index),\n          ...this.value.types.slice(index + 1),\n        ],\n      });\n      this.$emit(\"change\");\n    },\n  },\n};\n</script>\n\n<style scoped>\n\n.tag-line {\n  margin: 0.5rem;\n}\n\n</style>","<template>\n  <div>\n    <div>\n      Properties:\n      &nbsp;\n      <v-btn\n        size=\"small\"\n        @click=\"onOpenPropertiesDialog\"\n      >\n        Edit\n      </v-btn>\n      &nbsp;\n      <v-btn\n        size=\"small\"\n        @click=\"onClear\"\n      >\n        Clear\n      </v-btn>\n    </div>\n    <app-properties-preview :value=\"value\" />\n    <app-property-dialog\n      v-model=\"properties\"\n      :visible=\"visible\"\n      :types=\"types\"\n      @save=\"onSavePropertiesDialog\"\n      @close=\"onClosePropertiesDialog\"\n    />\n  </div>\n</template>\n\n<script>\nimport PropertyDialog from \"../components/properties-dialog\";\nimport PropertiesPreview from \"../components/properties-preview\";\n\nexport default {\n  \"name\": \"PropertyFilter\",\n  \"components\": {\n    \"app-property-dialog\": PropertyDialog,\n    \"app-properties-preview\": PropertiesPreview,\n  },\n  \"props\": {\n    \"value\": {\"type\": Object, \"required\": true},\n  },\n  \"emits\": [\n    \"input\",\n    /**\n     * Input value has changed.\n     */\n    \"change\",\n  ],\n  \"data\": () => ({\n    // Local copy of the data.\n    \"properties\": {},\n    \"visible\": false,\n    \"types\": [],\n  }),\n  \"methods\": {\n    \"onOpenPropertiesDialog\": function () {\n      this.properties = copyProperties(this.value.properties);\n      this.visible = true;\n    },\n    \"onClear\": function() {\n      this.$emit(\"input\", {\n        ...this.value,\n        \"properties\": {},\n      });\n      this.$emit(\"change\");\n    },\n    \"onSavePropertiesDialog\": async function () {\n      this.visible = false;\n      this.$emit(\"input\", {\n        ...this.value,\n        \"properties\": this.properties,\n      });\n      this.$emit(\"change\");\n    },\n    \"onClosePropertiesDialog\": function () {\n      this.visible = false;\n    },\n  },\n};\n\nfunction copyProperties(properties) {\n  const result = {};\n  for (const [key, value] of Object.entries(properties)) {\n    result[key] = [...value];\n  }\n  return result;\n}\n\n</script>","import { render } from \"./type-filter.vue?vue&type=template&id=7482b648&scoped=true\"\nimport script from \"./type-filter.vue?vue&type=script&lang=js\"\nexport * from \"./type-filter.vue?vue&type=script&lang=js\"\n\nimport \"./type-filter.vue?vue&type=style&index=0&id=7482b648&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7482b648\"]])\n\nexport default __exports__","import { render } from \"./property-filter.vue?vue&type=template&id=697276a2\"\nimport script from \"./property-filter.vue?vue&type=script&lang=js\"\nexport * from \"./property-filter.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./document-filter.vue?vue&type=template&id=04bfc730\"\nimport script from \"./document-filter.vue?vue&type=script&lang=js\"\nexport * from \"./document-filter.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { getDatabase } from \"../database\";\nexport class DocumentFilters {\n    search = \"\";\n    types = [];\n    properties = {};\n}\nexport class FilteredDocumentSource {\n    documents = [];\n    visibleDocuments = [];\n    filters = new DocumentFilters();\n    visibleLimit = 12;\n    async refresh() {\n        const database = getDatabase();\n        const documents = await database.getDocuments();\n        this.documents = documents.filter(doc => this.filterDocument(doc));\n        this.visibleDocuments = this.documents.slice(0, this.visibleLimit);\n    }\n    filterDocument(document) {\n        return this.filterBySearch(document)\n            && this.filterByType(document)\n            && this.filterByProperties(document);\n    }\n    filterBySearch(document) {\n        // Check that we have filter value set.\n        const search = this.filters.search;\n        if (search === undefined || search == null || search.length < 2) {\n            return true;\n        }\n        // Use lowercase match as a filter.\n        const title = document.title.toLowerCase();\n        if (!title.includes(search.toLowerCase())) {\n            return false;\n        }\n        return true;\n    }\n    filterByType(document) {\n        const filterTypes = this.filters.types;\n        if (filterTypes.length === 0) {\n            return true;\n        }\n        const documentTypes = document.types;\n        for (const type of filterTypes) {\n            const documentIncludeType = documentTypes.includes(type.iri);\n            if (documentIncludeType === type.include) {\n                continue;\n            }\n            return false;\n        }\n        return true;\n    }\n    filterByProperties(document) {\n        for (const [iri, filterValues] of Object.entries(this.filters.properties)) {\n            const documentValues = document.properties[iri];\n            if (documentValues === undefined) {\n                return false;\n            }\n            // If no values are provided just check that there is a value.\n            for (const filterValue of filterValues) {\n                if (filterValue === \"\") {\n                    continue;\n                }\n                if (documentValues.includes(filterValue)) {\n                    continue;\n                }\n                return false;\n            }\n        }\n        return true;\n    }\n    showMore() {\n        this.visibleLimit += 12;\n        this.visibleDocuments = this.documents.slice(0, this.visibleLimit);\n    }\n}\n","<template>\n  <v-dialog\n    :model-value=\"visible\"\n    persistent\n    @keydown.esc=\"onClose\"\n  >\n    <v-card>\n      <v-card-title class=\"headline\">\n        Select template\n      </v-card-title>\n      <v-card-text class=\"mt-4\">\n        <v-select\n          v-model=\"selected\"\n          label=\"Select template\"\n          :items=\"items\"\n          item-title=\"title\"\n          item-value=\"iri\"\n          @update:model-value=\"onUpdateSelect\"\n        />\n        <v-text-field\n          v-for=\"item in values\"\n          :key=\"item.name\"\n          v-model=\"item.value\"\n          :label=\"item.name\"\n        />\n      </v-card-text>\n      <v-divider />\n      <v-card-actions>\n        <v-btn\n          color=\"primary\"\n          :disabled=\"activeItem === null\"\n          @click=\"onCreate\"\n        >\n          Create\n        </v-btn>\n        <v-btn\n          @click=\"onClose\"\n        >\n          Cancel\n        </v-btn>\n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script>\nimport {createDocument, getDatabase} from \"../database\";\nimport {applyTemplateValues, selectTemplateValues} from \"../database/template\";\nimport {TEMPLATE_EMPTY} from \"../database/predefined\";\n\nexport default {\n  \"name\": \"CreateDocumentDialog\",\n  \"props\": {\n    \"visible\": {\"type\": Boolean, \"required\": true},\n  },\n  \"emits\": [\n    \"close\",\n    /**\n     * Identification of newly created document.\n     */\n    \"create\",\n  ],\n  \"data\": () => ({\n    \"loading\": false,\n    \"items\": [],\n    \"activeItem\": null,\n    \"values\": [],\n    \"selected\": \"\",\n  }),\n  \"watch\": {\n    \"visible\": async function (newVisibility) {\n      if (!newVisibility) {\n        // Hiding the dialog.\n        return;\n      }\n      await this.reloadFromDatabase();\n    },\n  },\n  \"methods\": {\n    \"reloadFromDatabase\": async function() {\n      const database = getDatabase();\n      this.loading = true;\n      this.items = await database.getTemplateDocuments();\n      this.loading = false;\n      // Select initial value. This is not really connected,\n      // but it works.\n      this.selected = \"Empty document\";\n      this.onUpdateSelect(TEMPLATE_EMPTY);\n    },\n    \"onUpdateSelect\": function(iri) {\n      this.activeItem = null;\n      for (const item of this.items) {\n        if (item.iri === iri) {\n          this.activeItem = item;\n          break;\n        }\n      }\n      const placeholders = selectTemplateValues(this.activeItem);\n      this.values = placeholders.map(name => ({\n        \"name\": name,\n        \"value\": \"\",\n      }));\n    },\n    \"onClose\": function () {\n      this.$emit(\"close\");\n    },\n    \"onCreate\": async function () {\n      const template = applyTemplateValues(this.activeItem, this.values);\n      const document = createDocument(template);\n      const database = getDatabase();\n      await database.storeDocument(document);\n      this.$emit(\"create\", document);\n    },\n  },\n};\n</script>","import { render } from \"./create-document-dialog.vue?vue&type=template&id=5de2e20a\"\nimport script from \"./create-document-dialog.vue?vue&type=script&lang=js\"\nexport * from \"./create-document-dialog.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./document-list.vue?vue&type=template&id=d209f174&scoped=true\"\nimport script from \"./document-list.vue?vue&type=script&lang=js\"\nexport * from \"./document-list.vue?vue&type=script&lang=js\"\n\nimport \"./document-list.vue?vue&type=style&index=0&id=d209f174&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-d209f174\"]])\n\nexport default __exports__","import About from \"../about/about\";\nimport DocumentDetail from \"../document-detail/document-detail\";\nimport DocumentList from \"../document-list/document-list\";\n\nconst routes = [\n  {\n    \"path\": \"/\",\n    \"name\": \"home\",\n    \"component\": DocumentList,\n  }, {\n    \"path\": \"/document-edit\",\n    \"name\": \"document-edit\",\n    \"component\": DocumentDetail,\n  }, {\n    \"path\": \"/documents\",\n    \"name\": \"documents\",\n    \"component\": DocumentList,\n  }, {\n    \"path\": \"/about\",\n    \"name\": \"about\",\n    \"component\": About,\n  },\n];\n\nexport default routes;\n","<template>\n  <v-app>\n    <v-app-bar>\n      <v-app-bar-title>\n        Knowledge Manager\n      </v-app-bar-title>\n      <v-spacer />\n      <v-btn\n        :to=\"{'name':'documents'}\"\n        class=\"mr-6\"\n      >\n        Documents\n      </v-btn>\n      <v-btn\n        :to=\"{'name':'about'}\"\n        class=\"mr-6\"\n      >\n        About\n      </v-btn>\n      <v-btn\n        href=\"https://github.com/skodapetr/knoma/issues\"\n        rel=\"noopener noreferrer\"\n        target=\"_blank\"\n      >\n        GitHub\n      </v-btn>\n    </v-app-bar>\n    <v-main>\n      <router-view />\n    </v-main>\n    <notifications\n      position=\"top center\"\n      class=\"notification\"\n    />\n  </v-app>\n</template>\n\n<script>\nexport default {\n  \"name\": \"ApplicationLayout\",\n};\n</script>\n\n<style scoped>\n.notification {\n  margin: 10px\n}\n</style>\n","import { render } from \"./layout.vue?vue&type=template&id=323dca45&scoped=true\"\nimport script from \"./layout.vue?vue&type=script&lang=js\"\nexport * from \"./layout.vue?vue&type=script&lang=js\"\n\nimport \"./layout.vue?vue&type=style&index=0&id=323dca45&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-323dca45\"]])\n\nexport default __exports__","import {createApp} from \"vue\";\nimport {createRouter, createWebHashHistory} from \"vue-router\";\nimport Notifications from \"@kyvg/vue3-notification\";\n// Vuetify\nimport \"vuetify/styles\";\nimport { createVuetify } from \"vuetify\";\nimport * as components from \"vuetify/components\";\nimport * as directives from \"vuetify/directives\";\n\nimport routes from \"./application/routes\";\nimport Application from \"./application/layout.vue\";\n\nconst router = createRouter({\n  \"history\": createWebHashHistory(),\n  \"routes\": routes,\n});\n\nconst vuetify = createVuetify({\n  \"components\": components,\n  \"directives\": directives,\n  \"theme\": {\n    \"defaultTheme\": \"dark\",\n    \"themes\": {\n      \"dark\": {\n        \"colors\": {\n          \"primary\": \"#3739FF\",\n        },\n      },\n    },\n  },\n});\n\nconst app = createApp(Application);\napp.use(vuetify);\napp.use(router);\napp.use(Notifications);\napp.mount(\"#application\");\n"],"names":["_createElementVNode","DatabaseType","configuration","getConfiguration","PredicateEditType","QUOTE","DOCUMENT_TEMPLATE","DOCUMENT_NOTE","TEMPLATE_EMPTY","LABELS","CODE_LISTS","PREDICATES","Codelist","undefined","String","Date","getCoreCodelistItem","type","predicate","iri","label","copyPredicateLabelsToLabels","regExp","RegExp","createQuickNoteTemplate","now","toISOString","substring","addPlaceholdersToSet","collector","value","matchAll","map","item","forEach","add","replaceAll","replacements","result","source","target","Object","entries","SimpleDatabase","documents","async","this","refreshDocuments","userDocuments","Promise","all","filter","isTemplateDocument","getDocument","document","types","includes","push","documentToPredicate","predicates","getPredicates","Set","isIntersecting","properties","title","left","right","leftItem","codelist","listColour","listPriority","parseInt","HttpDatabase","documentsAreDirty","getDatabaseLabel","response","axios","get","data","url","encodeURIComponent","post","delete","LIST_IDENTIFIER","LocalStorageDatabase","localStorage","removeItem","index","findDocument","splice","saveDocuments","length","content","JSON","stringify","setItem","contentAsString","getItem","parse","newDocument","identifier","description","created","createDocument","template","getTime","replace","c","r","Math","random","toString","domain","database","HTTP","LOCAL_STORAGE","substr","storeDocument","addDemoContent","createLocalStorageDatabase","createDatabase","getDatabase","_createElementBlock","_hoisted_1","_hoisted_2","_toDisplayString","_ctx","databaseLabel","_hoisted_3","AboutInstance","AboutKeyboard","AboutPredicates","AboutText","_createBlock","_component_v_container","_createVNode","_component_v_tabs","tab","$event","grow","_component_v_tab","_component_v_window","style","_component_v_window_item","_component_app_instance","_component_app_keyboard","_component_app_types","_component_app_predicates","_component_app_text","class","Array","computeTags","getLabel","tags","$emit","_Fragment","_renderList","tag","_component_v_chip","key","size","onClick","TagLine","_component_app_tags","onEditType","_component_v_btn","variant","icon","nextProperties","updateProperties","predicateIri","items","getPredicate","itemsToShow","predicateToValues","sort","localeCompare","values","TypeLine","PropertiesPreview","navigator","clipboard","writeText","modelValue","owner","onCopyIri","_cache","onEditProperties","onInput","_component_v_text_field","required","onChangeTitle","_component_v_textarea","clearable","rows","onChangeDescription","_component_app_properties_preview","_component_v_layout","onSave","onClose","documentIri","event","altKey","onToggleQuote","preventDefault","clipboardData","file","getAsFile","reader","FileReader","onload","imageInBase64","readAsDataURL","showImage","note","prevTypes","nextTypes","indexOf","slice","createNewNote","notes","nextIndex","Number","reduce","max","text","createNote","padStart","getTextAreas","window","querySelectorAll","_component_v_card","width","_component_v_card_title","_component_v_switch","isQuote","color","density","_component_v_spacer","onDelete","onAdd","_component_v_card_text","onChangeContent","onPaste","onKeydown","onKeyDown","src","image","_component_v_card_actions","onToggleImage","onClearImage","_createCommentVNode","_component_v_list_item","_component_app_item","v","onChange","onInsert","onAppend","loading","definition","iris","getCodelist","newValue","nextTick","$refs","input","blur","updateFilteredItems","filteredItems","currentTypes","typeObject","shouldBeUsed","_component_v_list","_component_v_list_subheader","multiple","onAddValue","onDeleteValue","onUpdateValue","_component_v_select","_component_v_combobox","ref","disabled","autofocus","Boolean","_component_v_dialog","visible","fullscreen","transition","_withKeys","_component_v_toolbar","dark","_component_v_toolbar_title","_component_v_toolbar_items","entry","_component_v_list_item_title","_component_app_property_edit","_component_app_property_selector","newVisibility","console","log","refreshOnShow","reloadCodelistFromDatabase","persistent","chips","_component_v_divider","Header","Items","PropertyDialog","CodelistDialog","addEventListener","$route","query","removeEventListener","ctrlKey","pop","focus","nodes","active","activeElement","focusPreviousNote","focusNextNote","propertyDialog","cloneProperties","open","typeDialog","$notify","ex","$router","isArray","_component_app_header","onOpenPropertiesDialog","onOpenTypeDialog","_component_app_items","_component_app_property_dialog","onSavePropertiesDialog","onClosePropertiesDialog","_component_app_codelist_dialog","onSaveTypeDialog","onCloseTypeDialog","refresh","keys","priority","buildDocumentTagList","onOpen","append","_withCtx","_withModifiers","_component_v_list_item_subtitle","oldValue","dialog","include","copyProperties","onAddInclude","onAddExclude","closable","onRemoveType","onClear","search","onSearchInput","_component_app_type_filter","_component_app_property_filter","DocumentFilters","FilteredDocumentSource","visibleDocuments","filters","visibleLimit","getDocuments","doc","filterDocument","filterBySearch","filterByType","filterByProperties","toLowerCase","filterTypes","documentTypes","filterValues","documentValues","filterValue","showMore","reloadFromDatabase","getTemplateDocuments","selected","onUpdateSelect","activeItem","placeholders","selectTemplateValues","name","applyTemplateValues","Item","Filter","onCreate","reload","location","resolve","href","deleteDocument","showCreateDialog","_component_app_filter","onShowMore","onShowCreateDialog","_component_v_overlay","_component_v_progress_circular","indeterminate","_component_app_create_document_dialog","onCreateDocument","onCloseCreateDialog","DocumentDetail","About","_component_v_app","_component_v_app_bar","_component_v_app_bar_title","to","rel","_component_v_main","_component_router_view","_component_notifications","position","router","createRouter","createWebHashHistory","routes","vuetify","createVuetify","components","directives","app","createApp","Application","use","Notifications","mount"],"sourceRoot":""}